(function(){"use strict";var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ef(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var t=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var Le,Do;function Wr(){return Do||(Do=1,Le=function(e){try{return!!e()}catch{return!0}}),Le}var Fe,Wo;function Ee(){if(Wo)return Fe;Wo=1;var e=Wr();return Fe=!e(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),Fe}var Ue,Lo;function Lr(){if(Lo)return Ue;Lo=1;var e=Ee(),r=Function.prototype,t=r.call,n=e&&r.bind.bind(t,t);return Ue=e?n:function(o){return function(){return t.apply(o,arguments)}},Ue}var He,Fo;function Ie(){if(Fo)return He;Fo=1;var e=Lr(),r=e({}.toString),t=e("".slice);return He=function(n){return t(r(n),8,-1)},He}var Be,Uo;function tf(){if(Uo)return Be;Uo=1;var e=Lr(),r=Wr(),t=Ie(),n=Object,o=e("".split);return Be=r(function(){return!n("z").propertyIsEnumerable(0)})?function(i){return t(i)==="String"?o(i,""):n(i)}:n,Be}var Ge,Ho;function Te(){return Ho||(Ho=1,Ge=function(e){return e==null}),Ge}var Ve,Bo;function _e(){if(Bo)return Ve;Bo=1;var e=Te(),r=TypeError;return Ve=function(t){if(e(t))throw new r("Can't call method on "+t);return t},Ve}var Ke,Go;function le(){if(Go)return Ke;Go=1;var e=tf(),r=_e();return Ke=function(t){return e(r(t))},Ke}var ve,Vo;function gr(){if(Vo)return ve;Vo=1;var e=function(r){return r&&r.Math===Math&&r};return ve=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof Mo=="object"&&Mo)||e(typeof ve=="object"&&ve)||function(){return this}()||Function("return this")(),ve}var $e={exports:{}},Ye,Ko;function jr(){return Ko||(Ko=1,Ye=!1),Ye}var Xe,$o;function Qe(){if($o)return Xe;$o=1;var e=gr(),r=Object.defineProperty;return Xe=function(t,n){try{r(e,t,{value:n,configurable:!0,writable:!0})}catch{e[t]=n}return n},Xe}var Yo;function Re(){if(Yo)return $e.exports;Yo=1;var e=jr(),r=gr(),t=Qe(),n="__core-js_shared__",o=$e.exports=r[n]||t(n,{});return(o.versions||(o.versions=[])).push({version:"3.44.0",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),$e.exports}var Ze,Xo;function Qo(){if(Xo)return Ze;Xo=1;var e=Re();return Ze=function(r,t){return e[r]||(e[r]=t||{})},Ze}var ze,Zo;function Je(){if(Zo)return ze;Zo=1;var e=_e(),r=Object;return ze=function(t){return r(e(t))},ze}var rt,zo;function Vr(){if(zo)return rt;zo=1;var e=Lr(),r=Je(),t=e({}.hasOwnProperty);return rt=Object.hasOwn||function(o,i){return t(r(o),i)},rt}var et,Jo;function ri(){if(Jo)return et;Jo=1;var e=Lr(),r=0,t=Math.random(),n=e(1.1.toString);return et=function(o){return"Symbol("+(o===void 0?"":o)+")_"+n(++r+t,36)},et}var tt,ei;function he(){if(ei)return tt;ei=1;var e=gr(),r=e.navigator,t=r&&r.userAgent;return tt=t?String(t):"",tt}var nt,ti;function ni(){if(ti)return nt;ti=1;var e=gr(),r=he(),t=e.process,n=e.Deno,o=t&&t.versions||n&&n.version,i=o&&o.v8,a,s;return i&&(a=i.split("."),s=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&r&&(a=r.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=r.match(/Chrome\/(\d+)/),a&&(s=+a[1]))),nt=s,nt}var ot,oi;function ii(){if(oi)return ot;oi=1;var e=ni(),r=Wr(),t=gr(),n=t.String;return ot=!!Object.getOwnPropertySymbols&&!r(function(){var o=Symbol("symbol detection");return!n(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&e&&e<41}),ot}var it,ai;function si(){if(ai)return it;ai=1;var e=ii();return it=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",it}var at,ui;function Rr(){if(ui)return at;ui=1;var e=gr(),r=Qo(),t=Vr(),n=ri(),o=ii(),i=si(),a=e.Symbol,s=r("wks"),l=i?a.for||a:a&&a.withoutSetter||n;return at=function(c){return t(s,c)||(s[c]=o&&t(a,c)?a[c]:l("Symbol."+c)),s[c]},at}var st,ci;function Tr(){if(ci)return st;ci=1;var e=typeof document=="object"&&document.all;return st=typeof e>"u"&&e!==void 0?function(r){return typeof r=="function"||r===e}:function(r){return typeof r=="function"},st}var ut,fi;function Yr(){if(fi)return ut;fi=1;var e=Tr();return ut=function(r){return typeof r=="object"?r!==null:e(r)},ut}var ct,li;function lr(){if(li)return ct;li=1;var e=Yr(),r=String,t=TypeError;return ct=function(n){if(e(n))return n;throw new t(r(n)+" is not an object")},ct}var ft={},lt,vi;function Br(){if(vi)return lt;vi=1;var e=Wr();return lt=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),lt}var vt,hi;function di(){if(hi)return vt;hi=1;var e=Br(),r=Wr();return vt=e&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),vt}var ht={},dt,pi;function Pe(){if(pi)return dt;pi=1;var e=gr(),r=Yr(),t=e.document,n=r(t)&&r(t.createElement);return dt=function(o){return n?t.createElement(o):{}},dt}var pt,yi;function mi(){if(yi)return pt;yi=1;var e=Br(),r=Wr(),t=Pe();return pt=!e&&!r(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),pt}var yt,gi;function vr(){if(gi)return yt;gi=1;var e=Ee(),r=Function.prototype.call;return yt=e?r.bind(r):function(){return r.apply(r,arguments)},yt}var mt,bi;function Qr(){if(bi)return mt;bi=1;var e=gr(),r=Tr(),t=function(n){return r(n)?n:void 0};return mt=function(n,o){return arguments.length<2?t(e[n]):e[n]&&e[n][o]},mt}var gt,Oi;function Se(){if(Oi)return gt;Oi=1;var e=Lr();return gt=e({}.isPrototypeOf),gt}var bt,wi;function Ei(){if(wi)return bt;wi=1;var e=Qr(),r=Tr(),t=Se(),n=si(),o=Object;return bt=n?function(i){return typeof i=="symbol"}:function(i){var a=e("Symbol");return r(a)&&t(a.prototype,o(i))},bt}var Ot,Ii;function Ce(){if(Ii)return Ot;Ii=1;var e=String;return Ot=function(r){try{return e(r)}catch{return"Object"}},Ot}var wt,Ti;function xr(){if(Ti)return wt;Ti=1;var e=Tr(),r=Ce(),t=TypeError;return wt=function(n){if(e(n))return n;throw new t(r(n)+" is not a function")},wt}var Et,_i;function te(){if(_i)return Et;_i=1;var e=xr(),r=Te();return Et=function(t,n){var o=t[n];return r(o)?void 0:e(o)},Et}var It,Ri;function nf(){if(Ri)return It;Ri=1;var e=vr(),r=Tr(),t=Yr(),n=TypeError;return It=function(o,i){var a,s;if(i==="string"&&r(a=o.toString)&&!t(s=e(a,o))||r(a=o.valueOf)&&!t(s=e(a,o))||i!=="string"&&r(a=o.toString)&&!t(s=e(a,o)))return s;throw new n("Can't convert object to primitive value")},It}var Tt,Pi;function of(){if(Pi)return Tt;Pi=1;var e=vr(),r=Yr(),t=Ei(),n=te(),o=nf(),i=Rr(),a=TypeError,s=i("toPrimitive");return Tt=function(l,c){if(!r(l)||t(l))return l;var u=n(l,s),f;if(u){if(c===void 0&&(c="default"),f=e(u,l,c),!r(f)||t(f))return f;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),o(l,c)},Tt}var _t,Si;function Ci(){if(Si)return _t;Si=1;var e=of(),r=Ei();return _t=function(t){var n=e(t,"string");return r(n)?n:n+""},_t}var Ai;function Zr(){if(Ai)return ht;Ai=1;var e=Br(),r=mi(),t=di(),n=lr(),o=Ci(),i=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return ht.f=e?t?function(h,v,y){if(n(h),v=o(v),n(y),typeof h=="function"&&v==="prototype"&&"value"in y&&u in y&&!y[u]){var p=s(h,v);p&&p[u]&&(h[v]=y.value,y={configurable:c in y?y[c]:p[c],enumerable:l in y?y[l]:p[l],writable:!1})}return a(h,v,y)}:a:function(h,v,y){if(n(h),v=o(v),n(y),r)try{return a(h,v,y)}catch{}if("get"in y||"set"in y)throw new i("Accessors not supported");return"value"in y&&(h[v]=y.value),h},ht}var Rt,qi;function af(){if(qi)return Rt;qi=1;var e=Math.ceil,r=Math.floor;return Rt=Math.trunc||function(n){var o=+n;return(o>0?r:e)(o)},Rt}var Pt,ki;function Ae(){if(ki)return Pt;ki=1;var e=af();return Pt=function(r){var t=+r;return t!==t||t===0?0:e(t)},Pt}var St,ji;function sf(){if(ji)return St;ji=1;var e=Ae(),r=Math.max,t=Math.min;return St=function(n,o){var i=e(n);return i<0?r(i+o,0):t(i,o)},St}var Ct,xi;function uf(){if(xi)return Ct;xi=1;var e=Ae(),r=Math.min;return Ct=function(t){var n=e(t);return n>0?r(n,9007199254740991):0},Ct}var At,Ni;function Mi(){if(Ni)return At;Ni=1;var e=uf();return At=function(r){return e(r.length)},At}var qt,Di;function cf(){if(Di)return qt;Di=1;var e=le(),r=sf(),t=Mi(),n=function(o){return function(i,a,s){var l=e(i),c=t(l);if(c===0)return!o&&-1;var u=r(s,c),f;if(o&&a!==a){for(;c>u;)if(f=l[u++],f!==f)return!0}else for(;c>u;u++)if((o||u in l)&&l[u]===a)return o||u||0;return!o&&-1}};return qt={includes:n(!0),indexOf:n(!1)},qt}var kt,Wi;function jt(){return Wi||(Wi=1,kt={}),kt}var xt,Li;function Fi(){if(Li)return xt;Li=1;var e=Lr(),r=Vr(),t=le(),n=cf().indexOf,o=jt(),i=e([].push);return xt=function(a,s){var l=t(a),c=0,u=[],f;for(f in l)!r(o,f)&&r(l,f)&&i(u,f);for(;s.length>c;)r(l,f=s[c++])&&(~n(u,f)||i(u,f));return u},xt}var Nt,Ui;function Mt(){return Ui||(Ui=1,Nt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Nt}var Dt,Hi;function ff(){if(Hi)return Dt;Hi=1;var e=Fi(),r=Mt();return Dt=Object.keys||function(n){return e(n,r)},Dt}var Bi;function lf(){if(Bi)return ft;Bi=1;var e=Br(),r=di(),t=Zr(),n=lr(),o=le(),i=ff();return ft.f=e&&!r?Object.defineProperties:function(s,l){n(s);for(var c=o(l),u=i(l),f=u.length,h=0,v;f>h;)t.f(s,v=u[h++],c[v]);return s},ft}var Wt,Gi;function Vi(){if(Gi)return Wt;Gi=1;var e=Qr();return Wt=e("document","documentElement"),Wt}var Lt,Ki;function Ft(){if(Ki)return Lt;Ki=1;var e=Qo(),r=ri(),t=e("keys");return Lt=function(n){return t[n]||(t[n]=r(n))},Lt}var Ut,$i;function ne(){if($i)return Ut;$i=1;var e=lr(),r=lf(),t=Mt(),n=jt(),o=Vi(),i=Pe(),a=Ft(),s=">",l="<",c="prototype",u="script",f=a("IE_PROTO"),h=function(){},v=function(d){return l+u+s+d+l+"/"+u+s},y=function(d){d.write(v("")),d.close();var T=d.parentWindow.Object;return d=null,T},p=function(){var d=i("iframe"),T="java"+u+":",w;return d.style.display="none",o.appendChild(d),d.src=String(T),w=d.contentWindow.document,w.open(),w.write(v("document.F=Object")),w.close(),w.F},g,m=function(){try{g=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&g?y(g):p():y(g);for(var d=t.length;d--;)delete m[c][t[d]];return m()};return n[f]=!0,Ut=Object.create||function(T,w){var C;return T!==null?(h[c]=e(T),C=new h,h[c]=null,C[f]=T):C=m(),w===void 0?C:r.f(C,w)},Ut}var Ht,Yi;function vf(){if(Yi)return Ht;Yi=1;var e=Rr(),r=ne(),t=Zr().f,n=e("unscopables"),o=Array.prototype;return o[n]===void 0&&t(o,n,{configurable:!0,value:r(null)}),Ht=function(i){o[n][i]=!0},Ht}var Bt,Xi;function de(){return Xi||(Xi=1,Bt={}),Bt}var Gt,Qi;function hf(){if(Qi)return Gt;Qi=1;var e=gr(),r=Tr(),t=e.WeakMap;return Gt=r(t)&&/native code/.test(String(t)),Gt}var Vt,Zi;function qe(){return Zi||(Zi=1,Vt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}),Vt}var Kt,zi;function ae(){if(zi)return Kt;zi=1;var e=Br(),r=Zr(),t=qe();return Kt=e?function(n,o,i){return r.f(n,o,t(1,i))}:function(n,o,i){return n[o]=i,n},Kt}var $t,Ji;function oe(){if(Ji)return $t;Ji=1;var e=hf(),r=gr(),t=Yr(),n=ae(),o=Vr(),i=Re(),a=Ft(),s=jt(),l="Object already initialized",c=r.TypeError,u=r.WeakMap,f,h,v,y=function(d){return v(d)?h(d):f(d,{})},p=function(d){return function(T){var w;if(!t(T)||(w=h(T)).type!==d)throw new c("Incompatible receiver, "+d+" required");return w}};if(e||i.state){var g=i.state||(i.state=new u);g.get=g.get,g.has=g.has,g.set=g.set,f=function(d,T){if(g.has(d))throw new c(l);return T.facade=d,g.set(d,T),T},h=function(d){return g.get(d)||{}},v=function(d){return g.has(d)}}else{var m=a("state");s[m]=!0,f=function(d,T){if(o(d,m))throw new c(l);return T.facade=d,n(d,m,T),T},h=function(d){return o(d,m)?d[m]:{}},v=function(d){return o(d,m)}}return $t={set:f,get:h,has:v,enforce:y,getterFor:p},$t}var Yt={},Xt={},ra;function df(){if(ra)return Xt;ra=1;var e={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,t=r&&!e.call({1:2},1);return Xt.f=t?function(o){var i=r(this,o);return!!i&&i.enumerable}:e,Xt}var ea;function ta(){if(ea)return Yt;ea=1;var e=Br(),r=vr(),t=df(),n=qe(),o=le(),i=Ci(),a=Vr(),s=mi(),l=Object.getOwnPropertyDescriptor;return Yt.f=e?l:function(u,f){if(u=o(u),f=i(f),s)try{return l(u,f)}catch{}if(a(u,f))return n(!r(t.f,u,f),u[f])},Yt}var Qt={exports:{}},Zt,na;function oa(){if(na)return Zt;na=1;var e=Br(),r=Vr(),t=Function.prototype,n=e&&Object.getOwnPropertyDescriptor,o=r(t,"name"),i=o&&(function(){}).name==="something",a=o&&(!e||e&&n(t,"name").configurable);return Zt={EXISTS:o,PROPER:i,CONFIGURABLE:a},Zt}var zt,ia;function Jt(){if(ia)return zt;ia=1;var e=Lr(),r=Tr(),t=Re(),n=e(Function.toString);return r(t.inspectSource)||(t.inspectSource=function(o){return n(o)}),zt=t.inspectSource,zt}var aa;function sa(){if(aa)return Qt.exports;aa=1;var e=Lr(),r=Wr(),t=Tr(),n=Vr(),o=Br(),i=oa().CONFIGURABLE,a=Jt(),s=oe(),l=s.enforce,c=s.get,u=String,f=Object.defineProperty,h=e("".slice),v=e("".replace),y=e([].join),p=o&&!r(function(){return f(function(){},"length",{value:8}).length!==8}),g=String(String).split("String"),m=Qt.exports=function(d,T,w){h(u(T),0,7)==="Symbol("&&(T="["+v(u(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),w&&w.getter&&(T="get "+T),w&&w.setter&&(T="set "+T),(!n(d,"name")||i&&d.name!==T)&&(o?f(d,"name",{value:T,configurable:!0}):d.name=T),p&&w&&n(w,"arity")&&d.length!==w.arity&&f(d,"length",{value:w.arity});try{w&&n(w,"constructor")&&w.constructor?o&&f(d,"prototype",{writable:!1}):d.prototype&&(d.prototype=void 0)}catch{}var C=l(d);return n(C,"source")||(C.source=y(g,typeof T=="string"?T:"")),d};return Function.prototype.toString=m(function(){return t(this)&&c(this).source||a(this)},"toString"),Qt.exports}var rn,ua;function zr(){if(ua)return rn;ua=1;var e=Tr(),r=Zr(),t=sa(),n=Qe();return rn=function(o,i,a,s){s||(s={});var l=s.enumerable,c=s.name!==void 0?s.name:i;if(e(a)&&t(a,c,s),s.global)l?o[i]=a:n(i,a);else{try{s.unsafe?o[i]&&(l=!0):delete o[i]}catch{}l?o[i]=a:r.f(o,i,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return o},rn}var en={},ca;function pf(){if(ca)return en;ca=1;var e=Fi(),r=Mt(),t=r.concat("length","prototype");return en.f=Object.getOwnPropertyNames||function(o){return e(o,t)},en}var tn={},fa;function yf(){return fa||(fa=1,tn.f=Object.getOwnPropertySymbols),tn}var nn,la;function mf(){if(la)return nn;la=1;var e=Qr(),r=Lr(),t=pf(),n=yf(),o=lr(),i=r([].concat);return nn=e("Reflect","ownKeys")||function(s){var l=t.f(o(s)),c=n.f;return c?i(l,c(s)):l},nn}var on,va;function gf(){if(va)return on;va=1;var e=Vr(),r=mf(),t=ta(),n=Zr();return on=function(o,i,a){for(var s=r(i),l=n.f,c=t.f,u=0;u<s.length;u++){var f=s[u];!e(o,f)&&!(a&&e(a,f))&&l(o,f,c(i,f))}},on}var an,ha;function da(){if(ha)return an;ha=1;var e=Wr(),r=Tr(),t=/#|\.prototype\./,n=function(l,c){var u=i[o(l)];return u===s?!0:u===a?!1:r(c)?e(c):!!c},o=n.normalize=function(l){return String(l).replace(t,".").toLowerCase()},i=n.data={},a=n.NATIVE="N",s=n.POLYFILL="P";return an=n,an}var sn,pa;function _r(){if(pa)return sn;pa=1;var e=gr(),r=ta().f,t=ae(),n=zr(),o=Qe(),i=gf(),a=da();return sn=function(s,l){var c=s.target,u=s.global,f=s.stat,h,v,y,p,g,m;if(u?v=e:f?v=e[c]||o(c,{}):v=e[c]&&e[c].prototype,v)for(y in l){if(g=l[y],s.dontCallGetSet?(m=r(v,y),p=m&&m.value):p=v[y],h=a(u?y:c+(f?".":"#")+y,s.forced),!h&&p!==void 0){if(typeof g==typeof p)continue;i(g,p)}(s.sham||p&&p.sham)&&t(g,"sham",!0),n(v,y,g,s)}},sn}var un,ya;function bf(){if(ya)return un;ya=1;var e=Wr();return un=!e(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),un}var cn,ma;function ke(){if(ma)return cn;ma=1;var e=Vr(),r=Tr(),t=Je(),n=Ft(),o=bf(),i=n("IE_PROTO"),a=Object,s=a.prototype;return cn=o?a.getPrototypeOf:function(l){var c=t(l);if(e(c,i))return c[i];var u=c.constructor;return r(u)&&c instanceof u?u.prototype:c instanceof a?s:null},cn}var fn,ga;function se(){if(ga)return fn;ga=1;var e=Wr(),r=Tr(),t=Yr(),n=ne(),o=ke(),i=zr(),a=Rr(),s=jr(),l=a("iterator"),c=!1,u,f,h;[].keys&&(h=[].keys(),"next"in h?(f=o(o(h)),f!==Object.prototype&&(u=f)):c=!0);var v=!t(u)||e(function(){var y={};return u[l].call(y)!==y});return v?u={}:s&&(u=n(u)),r(u[l])||i(u,l,function(){return this}),fn={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},fn}var ln,ba;function je(){if(ba)return ln;ba=1;var e=Zr().f,r=Vr(),t=Rr(),n=t("toStringTag");return ln=function(o,i,a){o&&!a&&(o=o.prototype),o&&!r(o,n)&&e(o,n,{configurable:!0,value:i})},ln}var vn,Oa;function Of(){if(Oa)return vn;Oa=1;var e=se().IteratorPrototype,r=ne(),t=qe(),n=je(),o=de(),i=function(){return this};return vn=function(a,s,l,c){var u=s+" Iterator";return a.prototype=r(e,{next:t(+!c,l)}),n(a,u,!1,!0),o[u]=i,a},vn}var hn,wa;function wf(){if(wa)return hn;wa=1;var e=Lr(),r=xr();return hn=function(t,n,o){try{return e(r(Object.getOwnPropertyDescriptor(t,n)[o]))}catch{}},hn}var dn,Ea;function Ef(){if(Ea)return dn;Ea=1;var e=Yr();return dn=function(r){return e(r)||r===null},dn}var pn,Ia;function If(){if(Ia)return pn;Ia=1;var e=Ef(),r=String,t=TypeError;return pn=function(n){if(e(n))return n;throw new t("Can't set "+r(n)+" as a prototype")},pn}var yn,Ta;function _a(){if(Ta)return yn;Ta=1;var e=wf(),r=Yr(),t=_e(),n=If();return yn=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,i={},a;try{a=e(Object.prototype,"__proto__","set"),a(i,[]),o=i instanceof Array}catch{}return function(l,c){return t(l),n(c),r(l)&&(o?a(l,c):l.__proto__=c),l}}():void 0),yn}var mn,Ra;function Pa(){if(Ra)return mn;Ra=1;var e=_r(),r=vr(),t=jr(),n=oa(),o=Tr(),i=Of(),a=ke(),s=_a(),l=je(),c=ae(),u=zr(),f=Rr(),h=de(),v=se(),y=n.PROPER,p=n.CONFIGURABLE,g=v.IteratorPrototype,m=v.BUGGY_SAFARI_ITERATORS,d=f("iterator"),T="keys",w="values",C="entries",A=function(){return this};return mn=function(E,O,_,I,F,B,W){i(_,O,I);var N=function(tr){if(tr===F&&ar)return ar;if(!m&&tr&&tr in V)return V[tr];switch(tr){case T:return function(){return new _(this,tr)};case w:return function(){return new _(this,tr)};case C:return function(){return new _(this,tr)}}return function(){return new _(this)}},M=O+" Iterator",Y=!1,V=E.prototype,or=V[d]||V["@@iterator"]||F&&V[F],ar=!m&&or||N(F),ur=O==="Array"&&V.entries||or,J,hr,Pr;if(ur&&(J=a(ur.call(new E)),J!==Object.prototype&&J.next&&(!t&&a(J)!==g&&(s?s(J,g):o(J[d])||u(J,d,A)),l(J,M,!0,!0),t&&(h[M]=A))),y&&F===w&&or&&or.name!==w&&(!t&&p?c(V,"name",w):(Y=!0,ar=function(){return r(or,this)})),F)if(hr={values:N(w),keys:B?ar:N(T),entries:N(C)},W)for(Pr in hr)(m||Y||!(Pr in V))&&u(V,Pr,hr[Pr]);else e({target:O,proto:!0,forced:m||Y},hr);return(!t||W)&&V[d]!==ar&&u(V,d,ar,{name:F}),h[O]=ar,hr},mn}var gn,Sa;function pe(){return Sa||(Sa=1,gn=function(e,r){return{value:e,done:r}}),gn}var bn,Ca;function Aa(){if(Ca)return bn;Ca=1;var e=le(),r=vf(),t=de(),n=oe(),o=Zr().f,i=Pa(),a=pe(),s=jr(),l=Br(),c="Array Iterator",u=n.set,f=n.getterFor(c);bn=i(Array,"Array",function(v,y){u(this,{type:c,target:e(v),index:0,kind:y})},function(){var v=f(this),y=v.target,p=v.index++;if(!y||p>=y.length)return v.target=null,a(void 0,!0);switch(v.kind){case"keys":return a(p,!1);case"values":return a(y[p],!1)}return a([p,y[p]],!1)},"values");var h=t.Arguments=t.Array;if(r("keys"),r("values"),r("entries"),!s&&l&&h.name!=="values")try{o(h,"name",{value:"values"})}catch{}return bn}var qa={},On,ka;function wn(){if(ka)return On;ka=1;var e=Rr(),r=e("toStringTag"),t={};return t[r]="z",On=String(t)==="[object z]",On}var En,ja;function xe(){if(ja)return En;ja=1;var e=wn(),r=Tr(),t=Ie(),n=Rr(),o=n("toStringTag"),i=Object,a=t(function(){return arguments}())==="Arguments",s=function(l,c){try{return l[c]}catch{}};return En=e?t:function(l){var c,u,f;return l===void 0?"Undefined":l===null?"Null":typeof(u=s(c=i(l),o))=="string"?u:a?t(c):(f=t(c))==="Object"&&r(c.callee)?"Arguments":f},En}var In,xa;function Tf(){if(xa)return In;xa=1;var e=wn(),r=xe();return In=e?{}.toString:function(){return"[object "+r(this)+"]"},In}var Na;function _f(){if(Na)return qa;Na=1;var e=wn(),r=zr(),t=Tf();return e||r(Object.prototype,"toString",t,{unsafe:!0}),qa}var Ma={},Tn,Da;function Wa(){if(Da)return Tn;Da=1;var e=xe(),r=String;return Tn=function(t){if(e(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(t)},Tn}var _n,La;function Rf(){if(La)return _n;La=1;var e=Lr(),r=Ae(),t=Wa(),n=_e(),o=e("".charAt),i=e("".charCodeAt),a=e("".slice),s=function(l){return function(c,u){var f=t(n(c)),h=r(u),v=f.length,y,p;return h<0||h>=v?l?"":void 0:(y=i(f,h),y<55296||y>56319||h+1===v||(p=i(f,h+1))<56320||p>57343?l?o(f,h):y:l?a(f,h,h+2):(y-55296<<10)+(p-56320)+65536)}};return _n={codeAt:s(!1),charAt:s(!0)},_n}var Fa;function Pf(){if(Fa)return Ma;Fa=1;var e=Rf().charAt,r=Wa(),t=oe(),n=Pa(),o=pe(),i="String Iterator",a=t.set,s=t.getterFor(i);return n(String,"String",function(l){a(this,{type:i,string:r(l),index:0})},function(){var c=s(this),u=c.string,f=c.index,h;return f>=u.length?o(void 0,!0):(h=e(u,f),c.index+=h.length,o(h,!1))}),Ma}var Ua={},Rn,Ha;function Ba(){if(Ha)return Rn;Ha=1;var e=Se(),r=TypeError;return Rn=function(t,n){if(e(n,t))return t;throw new r("Incorrect invocation")},Rn}var Pn,Ga;function Va(){if(Ga)return Pn;Ga=1;var e=sa(),r=Zr();return Pn=function(t,n,o){return o.get&&e(o.get,n,{getter:!0}),o.set&&e(o.set,n,{setter:!0}),r.f(t,n,o)},Pn}var Sn,Ka;function Sf(){if(Ka)return Sn;Ka=1;var e=Br(),r=Zr(),t=qe();return Sn=function(n,o,i){e?r.f(n,o,t(0,i)):n[o]=i},Sn}var $a;function Ya(){if($a)return Ua;$a=1;var e=_r(),r=gr(),t=Ba(),n=lr(),o=Tr(),i=ke(),a=Va(),s=Sf(),l=Wr(),c=Vr(),u=Rr(),f=se().IteratorPrototype,h=Br(),v=jr(),y="constructor",p="Iterator",g=u("toStringTag"),m=TypeError,d=r[p],T=v||!o(d)||d.prototype!==f||!l(function(){d({})}),w=function(){if(t(this,f),i(this)===f)throw new m("Abstract class Iterator not directly constructable")},C=function(A,E){h?a(f,A,{configurable:!0,get:function(){return E},set:function(O){if(n(this),this===f)throw new m("You can't redefine this property");c(this,A)?this[A]=O:s(this,A,O)}}):f[A]=E};return c(f,g)||C(g,p),(T||!c(f,y)||f[y]===Object)&&C(y,w),w.prototype=f,e({global:!0,constructor:!0,forced:T},{Iterator:w}),Ua}var Xa={},Qa;function Za(){if(Qa)return Xa;Qa=1;var e=vr(),r=zr(),t=te(),n=Vr(),o=Rr(),i=se().IteratorPrototype,a=o("dispose");return n(i,a)||r(i,a,function(){var s=t(this,"return");s&&e(s,this)}),Xa}var za={},Cn,Ja;function Gr(){return Ja||(Ja=1,Cn=function(e){return{iterator:e,next:e.next,done:!1}}),Cn}var An,rs;function es(){if(rs)return An;rs=1;var e=RangeError;return An=function(r){if(r===r)return r;throw new e("NaN is not allowed")},An}var qn,ts;function ns(){if(ts)return qn;ts=1;var e=Ae(),r=RangeError;return qn=function(t){var n=e(t);if(n<0)throw new r("The argument can't be less than 0");return n},qn}var kn,os;function Nr(){if(os)return kn;os=1;var e=vr(),r=lr(),t=te();return kn=function(n,o,i){var a,s;r(n);try{if(a=t(n,"return"),!a){if(o==="throw")throw i;return i}a=e(a,n)}catch(l){s=!0,a=l}if(o==="throw")throw i;if(s)throw a;return r(a),i},kn}var jn,is;function xn(){if(is)return jn;is=1;var e=zr();return jn=function(r,t,n){for(var o in t)e(r,o,t[o],n);return r},jn}var Nn,as;function Cf(){if(as)return Nn;as=1;var e=Nr();return Nn=function(r,t,n){for(var o=r.length-1;o>=0;o--)if(r[o]!==void 0)try{n=e(r[o].iterator,t,n)}catch(i){t="throw",n=i}if(t==="throw")throw n;return n},Nn}var Mn,ss;function ue(){if(ss)return Mn;ss=1;var e=vr(),r=ne(),t=ae(),n=xn(),o=Rr(),i=oe(),a=te(),s=se().IteratorPrototype,l=pe(),c=Nr(),u=Cf(),f=o("toStringTag"),h="IteratorHelper",v="WrapForValidIterator",y="normal",p="throw",g=i.set,m=function(w){var C=i.getterFor(w?v:h);return n(r(s),{next:function(){var E=C(this);if(w)return E.nextHandler();if(E.done)return l(void 0,!0);try{var O=E.nextHandler();return E.returnHandlerResult?O:l(O,E.done)}catch(_){throw E.done=!0,_}},return:function(){var A=C(this),E=A.iterator;if(A.done=!0,w){var O=a(E,"return");return O?e(O,E):l(void 0,!0)}if(A.inner)try{c(A.inner.iterator,y)}catch(_){return c(E,p,_)}if(A.openIters)try{u(A.openIters,y)}catch(_){return c(E,p,_)}return E&&c(E,y),l(void 0,!0)}})},d=m(!0),T=m(!1);return t(T,f,"Iterator Helper"),Mn=function(w,C,A){var E=function(_,I){I?(I.iterator=_.iterator,I.next=_.next):I=_,I.type=C?v:h,I.returnHandlerResult=!!A,I.nextHandler=w,I.counter=0,I.done=!1,g(this,I)};return E.prototype=C?d:T,E},Mn}var Dn,us;function Ne(){return us||(us=1,Dn=function(e,r){var t=typeof Iterator=="function"&&Iterator.prototype[e];if(t)try{t.call({next:null},r).next()}catch{return!0}}),Dn}var Wn,cs;function Xr(){if(cs)return Wn;cs=1;var e=gr();return Wn=function(r,t){var n=e.Iterator,o=n&&n.prototype,i=o&&o[r],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(s){s instanceof t||(a=!1)}if(!a)return i},Wn}var fs;function ls(){if(fs)return za;fs=1;var e=_r(),r=vr(),t=lr(),n=Gr(),o=es(),i=ns(),a=Nr(),s=ue(),l=Ne(),c=Xr(),u=jr(),f=!u&&!l("drop",0),h=!u&&!f&&c("drop",RangeError),v=u||f||h,y=s(function(){for(var p=this.iterator,g=this.next,m,d;this.remaining;)if(this.remaining--,m=t(r(g,p)),d=this.done=!!m.done,d)return;if(m=t(r(g,p)),d=this.done=!!m.done,!d)return m.value});return e({target:"Iterator",proto:!0,real:!0,forced:v},{drop:function(g){t(this);var m;try{m=i(o(+g))}catch(d){a(this,"throw",d)}return h?r(h,this,m):new y(n(this),{remaining:m})}}),za}var vs={},Ln,hs;function Af(){if(hs)return Ln;hs=1;var e=Ie(),r=Lr();return Ln=function(t){if(e(t)==="Function")return r(t)},Ln}var Fn,ds;function Un(){if(ds)return Fn;ds=1;var e=Af(),r=xr(),t=Ee(),n=e(e.bind);return Fn=function(o,i){return r(o),i===void 0?o:t?n(o,i):function(){return o.apply(i,arguments)}},Fn}var Hn,ps;function qf(){if(ps)return Hn;ps=1;var e=Rr(),r=de(),t=e("iterator"),n=Array.prototype;return Hn=function(o){return o!==void 0&&(r.Array===o||n[t]===o)},Hn}var Bn,ys;function Gn(){if(ys)return Bn;ys=1;var e=xe(),r=te(),t=Te(),n=de(),o=Rr(),i=o("iterator");return Bn=function(a){if(!t(a))return r(a,i)||r(a,"@@iterator")||n[e(a)]},Bn}var Vn,ms;function kf(){if(ms)return Vn;ms=1;var e=vr(),r=xr(),t=lr(),n=Ce(),o=Gn(),i=TypeError;return Vn=function(a,s){var l=arguments.length<2?o(a):s;if(r(l))return t(e(l,a));throw new i(n(a)+" is not iterable")},Vn}var Kn,gs;function Jr(){if(gs)return Kn;gs=1;var e=Un(),r=vr(),t=lr(),n=Ce(),o=qf(),i=Mi(),a=Se(),s=kf(),l=Gn(),c=Nr(),u=TypeError,f=function(v,y){this.stopped=v,this.result=y},h=f.prototype;return Kn=function(v,y,p){var g=p&&p.that,m=!!(p&&p.AS_ENTRIES),d=!!(p&&p.IS_RECORD),T=!!(p&&p.IS_ITERATOR),w=!!(p&&p.INTERRUPTED),C=e(y,g),A,E,O,_,I,F,B,W=function(M){return A&&c(A,"normal"),new f(!0,M)},N=function(M){return m?(t(M),w?C(M[0],M[1],W):C(M[0],M[1])):w?C(M,W):C(M)};if(d)A=v.iterator;else if(T)A=v;else{if(E=l(v),!E)throw new u(n(v)+" is not iterable");if(o(E)){for(O=0,_=i(v);_>O;O++)if(I=N(v[O]),I&&a(h,I))return I;return new f(!1)}A=s(v,E)}for(F=d?v.next:A.next;!(B=r(F,A)).done;){try{I=N(B.value)}catch(M){c(A,"throw",M)}if(typeof I=="object"&&I&&a(h,I))return I}return new f(!1)},Kn}var bs;function Os(){if(bs)return vs;bs=1;var e=_r(),r=vr(),t=Jr(),n=xr(),o=lr(),i=Gr(),a=Nr(),s=Xr(),l=s("every",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:l},{every:function(u){o(this);try{n(u)}catch(v){a(this,"throw",v)}if(l)return r(l,this,u);var f=i(this),h=0;return!t(f,function(v,y){if(!u(v,h++))return y()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),vs}var ws={},$n,Es;function Is(){if(Es)return $n;Es=1;var e=lr(),r=Nr();return $n=function(t,n,o,i){try{return i?n(e(o)[0],o[1]):n(o)}catch(a){r(t,"throw",a)}},$n}var Ts;function _s(){if(Ts)return ws;Ts=1;var e=_r(),r=vr(),t=xr(),n=lr(),o=Gr(),i=ue(),a=Is(),s=jr(),l=Nr(),c=Ne(),u=Xr(),f=!s&&!c("filter",function(){}),h=!s&&!f&&u("filter",TypeError),v=s||f||h,y=i(function(){for(var p=this.iterator,g=this.predicate,m=this.next,d,T,w;;){if(d=n(r(m,p)),T=this.done=!!d.done,T)return;if(w=d.value,a(p,g,[w,this.counter++],!0))return w}});return e({target:"Iterator",proto:!0,real:!0,forced:v},{filter:function(g){n(this);try{t(g)}catch(m){l(this,"throw",m)}return h?r(h,this,g):new y(o(this),{predicate:g})}}),ws}var Rs={},Ps;function Ss(){if(Ps)return Rs;Ps=1;var e=_r(),r=vr(),t=Jr(),n=xr(),o=lr(),i=Gr(),a=Nr(),s=Xr(),l=s("find",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:l},{find:function(u){o(this);try{n(u)}catch(v){a(this,"throw",v)}if(l)return r(l,this,u);var f=i(this),h=0;return t(f,function(v,y){if(u(v,h++))return y(v)},{IS_RECORD:!0,INTERRUPTED:!0}).result}}),Rs}var Cs={},Yn,As;function qs(){if(As)return Yn;As=1;var e=vr(),r=lr(),t=Gr(),n=Gn();return Yn=function(o,i){(!i||typeof o!="string")&&r(o);var a=n(o);return t(r(a!==void 0?e(a,o):o))},Yn}var ks;function js(){if(ks)return Cs;ks=1;var e=_r(),r=vr(),t=xr(),n=lr(),o=Gr(),i=qs(),a=ue(),s=Nr(),l=jr(),c=Ne(),u=Xr(),f=!l&&!c("flatMap",function(){}),h=!l&&!f&&u("flatMap",TypeError),v=l||f||h,y=a(function(){for(var p=this.iterator,g=this.mapper,m,d;;){if(d=this.inner)try{if(m=n(r(d.next,d.iterator)),!m.done)return m.value;this.inner=null}catch(T){s(p,"throw",T)}if(m=n(r(this.next,p)),this.done=!!m.done)return;try{this.inner=i(g(m.value,this.counter++),!1)}catch(T){s(p,"throw",T)}}});return e({target:"Iterator",proto:!0,real:!0,forced:v},{flatMap:function(g){n(this);try{t(g)}catch(m){s(this,"throw",m)}return h?r(h,this,g):new y(o(this),{mapper:g,inner:null})}}),Cs}var xs={},Ns;function Ms(){if(Ns)return xs;Ns=1;var e=_r(),r=vr(),t=Jr(),n=xr(),o=lr(),i=Gr(),a=Nr(),s=Xr(),l=s("forEach",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:l},{forEach:function(u){o(this);try{n(u)}catch(v){a(this,"throw",v)}if(l)return r(l,this,u);var f=i(this),h=0;t(f,function(v){u(v,h++)},{IS_RECORD:!0})}}),xs}var Ds={},Ws;function Ls(){if(Ws)return Ds;Ws=1;var e=_r(),r=vr(),t=Je(),n=Se(),o=se().IteratorPrototype,i=ue(),a=qs(),s=jr(),l=s||function(){try{Iterator.from({return:null}).return()}catch{return!0}}(),c=i(function(){return r(this.next,this.iterator)},!0);return e({target:"Iterator",stat:!0,forced:l},{from:function(f){var h=a(typeof f=="string"?t(f):f,!0);return n(o,h.iterator)?h.iterator:new c(h)}}),Ds}var Fs={},Us;function Hs(){if(Us)return Fs;Us=1;var e=_r(),r=vr(),t=xr(),n=lr(),o=Gr(),i=ue(),a=Is(),s=Nr(),l=Ne(),c=Xr(),u=jr(),f=!u&&!l("map",function(){}),h=!u&&!f&&c("map",TypeError),v=u||f||h,y=i(function(){var p=this.iterator,g=n(r(this.next,p)),m=this.done=!!g.done;if(!m)return a(p,this.mapper,[g.value,this.counter++],!0)});return e({target:"Iterator",proto:!0,real:!0,forced:v},{map:function(g){n(this);try{t(g)}catch(m){s(this,"throw",m)}return h?r(h,this,g):new y(o(this),{mapper:g})}}),Fs}var Bs={},Xn,Gs;function Vs(){if(Gs)return Xn;Gs=1;var e=Ee(),r=Function.prototype,t=r.apply,n=r.call;return Xn=typeof Reflect=="object"&&Reflect.apply||(e?n.bind(t):function(){return n.apply(t,arguments)}),Xn}var Ks;function $s(){if(Ks)return Bs;Ks=1;var e=_r(),r=Jr(),t=xr(),n=lr(),o=Gr(),i=Nr(),a=Xr(),s=Vs(),l=Wr(),c=TypeError,u=l(function(){[].keys().reduce(function(){},void 0)}),f=!u&&a("reduce",c);return e({target:"Iterator",proto:!0,real:!0,forced:u||f},{reduce:function(v){n(this);try{t(v)}catch(d){i(this,"throw",d)}var y=arguments.length<2,p=y?void 0:arguments[1];if(f)return s(f,this,y?[v]:[v,p]);var g=o(this),m=0;if(r(g,function(d){y?(y=!1,p=d):p=v(p,d,m),m++},{IS_RECORD:!0}),y)throw new c("Reduce of empty iterator with no initial value");return p}}),Bs}var Ys={},Xs;function Qs(){if(Xs)return Ys;Xs=1;var e=_r(),r=vr(),t=Jr(),n=xr(),o=lr(),i=Gr(),a=Nr(),s=Xr(),l=s("some",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:l},{some:function(u){o(this);try{n(u)}catch(v){a(this,"throw",v)}if(l)return r(l,this,u);var f=i(this),h=0;return t(f,function(v,y){if(u(v,h++))return y()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),Ys}var Zs={},zs;function Js(){if(zs)return Zs;zs=1;var e=_r(),r=vr(),t=lr(),n=Gr(),o=es(),i=ns(),a=ue(),s=Nr(),l=Xr(),c=jr(),u=!c&&l("take",RangeError),f=a(function(){var h=this.iterator;if(!this.remaining--)return this.done=!0,s(h,"normal",void 0);var v=t(r(this.next,h)),y=this.done=!!v.done;if(!y)return v.value});return e({target:"Iterator",proto:!0,real:!0,forced:c||u},{take:function(v){t(this);var y;try{y=i(o(+v))}catch(p){s(this,"throw",p)}return u?r(u,this,y):new f(n(this),{remaining:y})}}),Zs}var ru={},eu;function tu(){if(eu)return ru;eu=1;var e=_r(),r=lr(),t=Jr(),n=Gr(),o=[].push;return e({target:"Iterator",proto:!0,real:!0},{toArray:function(){var a=[];return t(n(r(this)),o,{that:a,IS_RECORD:!0}),a}}),ru}var Qn,nu;function ou(){if(nu)return Qn;nu=1;var e=gr();return Qn=e,Qn}var Zn,iu;function jf(){if(iu)return Zn;iu=1,Aa(),_f(),Pf(),Ya(),Za(),ls(),Os(),_s(),Ss(),js(),Ms(),Ls(),Hs(),$s(),Qs(),Js(),tu();var e=ou();return Zn=e.Iterator,Zn}var au={},zn,su;function xf(){return su||(su=1,zn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),zn}var Jn,uu;function Nf(){if(uu)return Jn;uu=1;var e=Pe(),r=e("span").classList,t=r&&r.constructor&&r.constructor.prototype;return Jn=t===Object.prototype?void 0:t,Jn}var cu;function Mf(){if(cu)return au;cu=1;var e=gr(),r=xf(),t=Nf(),n=Aa(),o=ae(),i=je(),a=Rr(),s=a("iterator"),l=n.values,c=function(f,h){if(f){if(f[s]!==l)try{o(f,s,l)}catch{f[s]=l}if(i(f,h,!0),r[h]){for(var v in n)if(f[v]!==n[v])try{o(f,v,n[v])}catch{f[v]=n[v]}}}};for(var u in r)c(e[u]&&e[u].prototype,u);return c(t,"DOMTokenList"),au}var ro,fu;function Df(){if(fu)return ro;fu=1;var e=jf();return Mf(),ro=e,ro}var lu={},vu={},eo,hu;function du(){if(hu)return eo;hu=1;var e=gr(),r=he(),t=Ie(),n=function(o){return r.slice(0,o.length)===o};return eo=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":t(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}(),eo}var to,pu;function no(){if(pu)return to;pu=1;var e=du();return to=e==="NODE",to}var oo,yu;function Wf(){if(yu)return oo;yu=1;var e=Qr(),r=Va(),t=Rr(),n=Br(),o=t("species");return oo=function(i){var a=e(i);n&&a&&!a[o]&&r(a,o,{configurable:!0,get:function(){return this}})},oo}var io,mu;function Lf(){if(mu)return io;mu=1;var e=Lr(),r=Wr(),t=Tr(),n=xe(),o=Qr(),i=Jt(),a=function(){},s=o("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=e(l.exec),u=!l.test(a),f=function(y){if(!t(y))return!1;try{return s(a,[],y),!0}catch{return!1}},h=function(y){if(!t(y))return!1;switch(n(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,i(y))}catch{return!0}};return h.sham=!0,io=!s||r(function(){var v;return f(f.call)||!f(Object)||!f(function(){v=!0})||v})?h:f,io}var ao,gu;function Ff(){if(gu)return ao;gu=1;var e=Lf(),r=Ce(),t=TypeError;return ao=function(n){if(e(n))return n;throw new t(r(n)+" is not a constructor")},ao}var so,bu;function Uf(){if(bu)return so;bu=1;var e=lr(),r=Ff(),t=Te(),n=Rr(),o=n("species");return so=function(i,a){var s=e(i).constructor,l;return s===void 0||t(l=e(s)[o])?a:r(l)},so}var uo,Ou;function Hf(){if(Ou)return uo;Ou=1;var e=Lr();return uo=e([].slice),uo}var co,wu;function Bf(){if(wu)return co;wu=1;var e=TypeError;return co=function(r,t){if(r<t)throw new e("Not enough arguments");return r},co}var fo,Eu;function Iu(){if(Eu)return fo;Eu=1;var e=he();return fo=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),fo}var lo,Tu;function _u(){if(Tu)return lo;Tu=1;var e=gr(),r=Vs(),t=Un(),n=Tr(),o=Vr(),i=Wr(),a=Vi(),s=Hf(),l=Pe(),c=Bf(),u=Iu(),f=no(),h=e.setImmediate,v=e.clearImmediate,y=e.process,p=e.Dispatch,g=e.Function,m=e.MessageChannel,d=e.String,T=0,w={},C="onreadystatechange",A,E,O,_;i(function(){A=e.location});var I=function(N){if(o(w,N)){var M=w[N];delete w[N],M()}},F=function(N){return function(){I(N)}},B=function(N){I(N.data)},W=function(N){e.postMessage(d(N),A.protocol+"//"+A.host)};return(!h||!v)&&(h=function(M){c(arguments.length,1);var Y=n(M)?M:g(M),V=s(arguments,1);return w[++T]=function(){r(Y,void 0,V)},E(T),T},v=function(M){delete w[M]},f?E=function(N){y.nextTick(F(N))}:p&&p.now?E=function(N){p.now(F(N))}:m&&!u?(O=new m,_=O.port2,O.port1.onmessage=B,E=t(_.postMessage,_)):e.addEventListener&&n(e.postMessage)&&!e.importScripts&&A&&A.protocol!=="file:"&&!i(W)?(E=W,e.addEventListener("message",B,!1)):C in l("script")?E=function(N){a.appendChild(l("script"))[C]=function(){a.removeChild(this),I(N)}}:E=function(N){setTimeout(F(N),0)}),lo={set:h,clear:v},lo}var vo,Ru;function Gf(){if(Ru)return vo;Ru=1;var e=gr(),r=Br(),t=Object.getOwnPropertyDescriptor;return vo=function(n){if(!r)return e[n];var o=t(e,n);return o&&o.value},vo}var ho,Pu;function Su(){if(Pu)return ho;Pu=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(r){var t={item:r,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r){var t=this.head=r.next;return t===null&&(this.tail=null),r.item}}},ho=e,ho}var po,Cu;function Vf(){if(Cu)return po;Cu=1;var e=he();return po=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",po}var yo,Au;function Kf(){if(Au)return yo;Au=1;var e=he();return yo=/web0s(?!.*chrome)/i.test(e),yo}var mo,qu;function $f(){if(qu)return mo;qu=1;var e=gr(),r=Gf(),t=Un(),n=_u().set,o=Su(),i=Iu(),a=Vf(),s=Kf(),l=no(),c=e.MutationObserver||e.WebKitMutationObserver,u=e.document,f=e.process,h=e.Promise,v=r("queueMicrotask"),y,p,g,m,d;if(!v){var T=new o,w=function(){var C,A;for(l&&(C=f.domain)&&C.exit();A=T.get();)try{A()}catch(E){throw T.head&&y(),E}C&&C.enter()};!i&&!l&&!s&&c&&u?(p=!0,g=u.createTextNode(""),new c(w).observe(g,{characterData:!0}),y=function(){g.data=p=!p}):!a&&h&&h.resolve?(m=h.resolve(void 0),m.constructor=h,d=t(m.then,m),y=function(){d(w)}):l?y=function(){f.nextTick(w)}:(n=t(n,e),y=function(){n(w)}),v=function(C){T.head||y(),T.add(C)}}return mo=v,mo}var go,ku;function Yf(){return ku||(ku=1,go=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}}),go}var bo,ju;function Me(){return ju||(ju=1,bo=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}}),bo}var Oo,xu;function ye(){if(xu)return Oo;xu=1;var e=gr();return Oo=e.Promise,Oo}var wo,Nu;function me(){if(Nu)return wo;Nu=1;var e=gr(),r=ye(),t=Tr(),n=da(),o=Jt(),i=Rr(),a=du(),s=jr(),l=ni(),c=r&&r.prototype,u=i("species"),f=!1,h=t(e.PromiseRejectionEvent),v=n("Promise",function(){var y=o(r),p=y!==String(r);if(!p&&l===66||s&&!(c.catch&&c.finally))return!0;if(!l||l<51||!/native code/.test(y)){var g=new r(function(T){T(1)}),m=function(T){T(function(){},function(){})},d=g.constructor={};if(d[u]=m,f=g.then(function(){})instanceof m,!f)return!0}return!p&&(a==="BROWSER"||a==="DENO")&&!h});return wo={CONSTRUCTOR:v,REJECTION_EVENT:h,SUBCLASSING:f},wo}var Eo={},Mu;function ge(){if(Mu)return Eo;Mu=1;var e=xr(),r=TypeError,t=function(n){var o,i;this.promise=new n(function(a,s){if(o!==void 0||i!==void 0)throw new r("Bad Promise constructor");o=a,i=s}),this.resolve=e(o),this.reject=e(i)};return Eo.f=function(n){return new t(n)},Eo}var Du;function Xf(){if(Du)return vu;Du=1;var e=_r(),r=jr(),t=no(),n=gr(),o=ou(),i=vr(),a=zr(),s=_a(),l=je(),c=Wf(),u=xr(),f=Tr(),h=Yr(),v=Ba(),y=Uf(),p=_u().set,g=$f(),m=Yf(),d=Me(),T=Su(),w=oe(),C=ye(),A=me(),E=ge(),O="Promise",_=A.CONSTRUCTOR,I=A.REJECTION_EVENT,F=A.SUBCLASSING,B=w.getterFor(O),W=w.set,N=C&&C.prototype,M=C,Y=N,V=n.TypeError,or=n.document,ar=n.process,ur=E.f,J=ur,hr=!!(or&&or.createEvent&&n.dispatchEvent),Pr="unhandledrejection",tr="rejectionhandled",Sr=0,yr=1,Cr=2,wr=1,Er=2,Ar,Fr,cr,mr,Ir=function(R){var b;return h(R)&&f(b=R.then)?b:!1},dr=function(R,b){var G=b.value,U=b.state===yr,Z=U?R.ok:R.fail,Or=R.resolve,D=R.reject,j=R.domain,S,H,Q;try{Z?(U||(b.rejection===Er&&x(b),b.rejection=wr),Z===!0?S=G:(j&&j.enter(),S=Z(G),j&&(j.exit(),Q=!0)),S===R.promise?D(new V("Promise-chain cycle")):(H=Ir(S))?i(H,S,Or,D):Or(S)):D(G)}catch(ir){j&&!Q&&j.exit(),D(ir)}},z=function(R,b){R.notified||(R.notified=!0,g(function(){for(var G=R.reactions,U;U=G.get();)dr(U,R);R.notified=!1,b&&!R.rejection&&ee(R)}))},kr=function(R,b,G){var U,Z;hr?(U=or.createEvent("Event"),U.promise=b,U.reason=G,U.initEvent(R,!1,!0),n.dispatchEvent(U)):U={promise:b,reason:G},!I&&(Z=n["on"+R])?Z(U):R===Pr&&m("Unhandled promise rejection",G)},ee=function(R){i(p,n,function(){var b=R.facade,G=R.value,U=P(R),Z;if(U&&(Z=d(function(){t?ar.emit("unhandledRejection",G,b):kr(Pr,b,G)}),R.rejection=t||P(R)?Er:wr,Z.error))throw Z.value})},P=function(R){return R.rejection!==wr&&!R.parent},x=function(R){i(p,n,function(){var b=R.facade;t?ar.emit("rejectionHandled",b):kr(tr,b,R.value)})},q=function(R,b,G){return function(U){R(b,U,G)}},X=function(R,b,G){R.done||(R.done=!0,G&&(R=G),R.value=b,R.state=Cr,z(R,!0))},L=function(R,b,G){if(!R.done){R.done=!0,G&&(R=G);try{if(R.facade===b)throw new V("Promise can't be resolved itself");var U=Ir(b);U?g(function(){var Z={done:!1};try{i(U,b,q(L,Z,R),q(X,Z,R))}catch(Or){X(Z,Or,R)}}):(R.value=b,R.state=yr,z(R,!1))}catch(Z){X({done:!1},Z,R)}}};if(_&&(M=function(b){v(this,Y),u(b),i(Ar,this);var G=B(this);try{b(q(L,G),q(X,G))}catch(U){X(G,U)}},Y=M.prototype,Ar=function(b){W(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:Sr,value:null})},Ar.prototype=a(Y,"then",function(b,G){var U=B(this),Z=ur(y(this,M));return U.parent=!0,Z.ok=f(b)?b:!0,Z.fail=f(G)&&G,Z.domain=t?ar.domain:void 0,U.state===Sr?U.reactions.add(Z):g(function(){dr(Z,U)}),Z.promise}),Fr=function(){var R=new Ar,b=B(R);this.promise=R,this.resolve=q(L,b),this.reject=q(X,b)},E.f=ur=function(R){return R===M||R===cr?new Fr(R):J(R)},!r&&f(C)&&N!==Object.prototype)){mr=N.then,F||a(N,"then",function(b,G){var U=this;return new M(function(Z,Or){i(mr,U,Z,Or)}).then(b,G)},{unsafe:!0});try{delete N.constructor}catch{}s&&s(N,Y)}return e({global:!0,constructor:!0,wrap:!0,forced:_},{Promise:M}),cr=o.Promise,l(M,O,!1,!0),c(O),vu}var Wu={},Io,Lu;function Qf(){if(Lu)return Io;Lu=1;var e=Rr(),r=e("iterator"),t=!1;try{var n=0,o={next:function(){return{done:!!n++}},return:function(){t=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch{}return Io=function(i,a){try{if(!a&&!t)return!1}catch{return!1}var s=!1;try{var l={};l[r]=function(){return{next:function(){return{done:s=!0}}}},i(l)}catch{}return s},Io}var To,Fu;function Uu(){if(Fu)return To;Fu=1;var e=ye(),r=Qf(),t=me().CONSTRUCTOR;return To=t||!r(function(n){e.all(n).then(void 0,function(){})}),To}var Hu;function Zf(){if(Hu)return Wu;Hu=1;var e=_r(),r=vr(),t=xr(),n=ge(),o=Me(),i=Jr(),a=Uu();return e({target:"Promise",stat:!0,forced:a},{all:function(l){var c=this,u=n.f(c),f=u.resolve,h=u.reject,v=o(function(){var y=t(c.resolve),p=[],g=0,m=1;i(l,function(d){var T=g++,w=!1;m++,r(y,c,d).then(function(C){w||(w=!0,p[T]=C,--m||f(p))},h)}),--m||f(p)});return v.error&&h(v.value),u.promise}}),Wu}var Bu={},Gu;function zf(){if(Gu)return Bu;Gu=1;var e=_r(),r=jr(),t=me().CONSTRUCTOR,n=ye(),o=Qr(),i=Tr(),a=zr(),s=n&&n.prototype;if(e({target:"Promise",proto:!0,forced:t,real:!0},{catch:function(c){return this.then(void 0,c)}}),!r&&i(n)){var l=o("Promise").prototype.catch;s.catch!==l&&a(s,"catch",l,{unsafe:!0})}return Bu}var Vu={},Ku;function Jf(){if(Ku)return Vu;Ku=1;var e=_r(),r=vr(),t=xr(),n=ge(),o=Me(),i=Jr(),a=Uu();return e({target:"Promise",stat:!0,forced:a},{race:function(l){var c=this,u=n.f(c),f=u.reject,h=o(function(){var v=t(c.resolve);i(l,function(y){r(v,c,y).then(u.resolve,f)})});return h.error&&f(h.value),u.promise}}),Vu}var $u={},Yu;function rl(){if(Yu)return $u;Yu=1;var e=_r(),r=ge(),t=me().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:t},{reject:function(o){var i=r.f(this),a=i.reject;return a(o),i.promise}}),$u}var Xu={},_o,Qu;function el(){if(Qu)return _o;Qu=1;var e=lr(),r=Yr(),t=ge();return _o=function(n,o){if(e(n),r(o)&&o.constructor===n)return o;var i=t.f(n),a=i.resolve;return a(o),i.promise},_o}var Zu;function tl(){if(Zu)return Xu;Zu=1;var e=_r(),r=Qr(),t=jr(),n=ye(),o=me().CONSTRUCTOR,i=el(),a=r("Promise"),s=t&&!o;return e({target:"Promise",stat:!0,forced:t||o},{resolve:function(c){return i(s&&this===a?n:this,c)}}),Xu}var zu;function nl(){return zu||(zu=1,Xf(),Zf(),zf(),Jf(),rl(),tl()),lu}var Ju={},rc;function ol(){return rc||(rc=1,Ya()),Ju}var ec={},tc;function il(){return tc||(tc=1,Za()),ec}var nc={},oc;function al(){return oc||(oc=1,ls()),nc}var ic={},ac;function sl(){return ac||(ac=1,Os()),ic}var sc={},uc;function ul(){return uc||(uc=1,_s()),sc}var cc={},fc;function cl(){return fc||(fc=1,Ss()),cc}var lc={},vc;function fl(){return vc||(vc=1,js()),lc}var hc={},dc;function ll(){return dc||(dc=1,Ms()),hc}var pc={},yc;function vl(){return yc||(yc=1,Ls()),pc}var mc={},gc;function hl(){return gc||(gc=1,Hs()),mc}var bc={},Oc;function dl(){return Oc||(Oc=1,$s()),bc}var wc={},Ec;function pl(){return Ec||(Ec=1,Qs()),wc}var Ic={},Tc;function yl(){return Tc||(Tc=1,Js()),Ic}var _c={},Rc;function ml(){return Rc||(Rc=1,tu()),_c}var Pc={},Ro,Sc;function Cc(){if(Sc)return Ro;Sc=1;var e=gr(),r=Re(),t=Tr(),n=ne(),o=ke(),i=zr(),a=Rr(),s=jr(),l="USE_FUNCTION_CONSTRUCTOR",c=a("asyncIterator"),u=e.AsyncIterator,f=r.AsyncIteratorPrototype,h,v;if(f)h=f;else if(t(u))h=u.prototype;else if(r[l]||e[l])try{v=o(o(o(Function("return async function*(){}()")()))),o(v)===Object.prototype&&(h=v)}catch{}return h?s&&(h=n(h)):h={},t(h[c])||i(h,c,function(){return this}),Ro=h,Ro}var Po,Ac;function gl(){if(Ac)return Po;Ac=1;var e=vr(),r=lr(),t=ne(),n=te(),o=xn(),i=oe(),a=Nr(),s=Qr(),l=Cc(),c=pe(),u=s("Promise"),f="AsyncFromSyncIterator",h=i.set,v=i.getterFor(f),y=function(g,m,d,T,w){var C=g.done;u.resolve(g.value).then(function(A){m(c(A,C))},function(A){if(!C&&w)try{a(T,"throw",A)}catch(E){A=E}d(A)})},p=function(m){m.type=f,h(this,m)};return p.prototype=o(t(l),{next:function(){var m=v(this);return new u(function(d,T){var w=r(e(m.next,m.iterator));y(w,d,T,m.iterator,!0)})},return:function(){var g=v(this).iterator;return new u(function(m,d){var T=n(g,"return");if(T===void 0)return m(c(void 0,!0));var w=r(e(T,g));y(w,m,d,g)})}}),Po=p,Po}var So,qc;function bl(){if(qc)return So;qc=1;var e=vr(),r=Me(),t=lr(),n=ne(),o=ae(),i=xn(),a=Rr(),s=oe(),l=Qr(),c=te(),u=Cc(),f=pe(),h=Nr(),v=l("Promise"),y=a("toStringTag"),p="AsyncIteratorHelper",g="WrapForValidAsyncIterator",m=s.set,d=function(C){var A=!C,E=s.getterFor(C?g:p),O=function(_){var I=r(function(){return E(_)}),F=I.error,B=I.value;return F||A&&B.done?{exit:!0,value:F?v.reject(B):v.resolve(f(void 0,!0))}:{exit:!1,value:B}};return i(n(u),{next:function(){var I=O(this),F=I.value;if(I.exit)return F;var B=r(function(){return t(F.nextHandler(v))}),W=B.error,N=B.value;return W&&(F.done=!0),W?v.reject(N):v.resolve(N)},return:function(){var _=O(this),I=_.value;if(_.exit)return I;I.done=!0;var F=I.iterator,B,W,N=r(function(){if(I.inner)try{h(I.inner.iterator,"normal")}catch(M){return h(F,"throw",M)}return c(F,"return")});return B=W=N.value,N.error?v.reject(W):B===void 0?v.resolve(f(void 0,!0)):(N=r(function(){return e(B,F)}),W=N.value,N.error?v.reject(W):C?v.resolve(W):v.resolve(W).then(function(M){return t(M),f(void 0,!0)}))}})},T=d(!0),w=d(!1);return o(w,y,"Async Iterator Helper"),So=function(C,A){var E=function(_,I){I?(I.iterator=_.iterator,I.next=_.next):I=_,I.type=A?g:p,I.nextHandler=C,I.counter=0,I.done=!1,m(this,I)};return E.prototype=A?T:w,E},So}var Co,kc;function Ol(){if(kc)return Co;kc=1;var e=vr(),r=bl();return Co=r(function(){return e(this.next,this.iterator)},!0),Co}var jc;function wl(){if(jc)return Pc;jc=1;var e=_r(),r=lr(),t=gl(),n=Ol(),o=Gr();return e({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new n(o(new t(o(r(this)))))}}),Pc}var Ao,xc;function El(){if(xc)return Ao;xc=1;var e=Df();return nl(),ol(),il(),al(),sl(),ul(),cl(),fl(),ll(),vl(),hl(),dl(),pl(),yl(),ml(),wl(),Ao=e,Ao}El();function be(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}class Oe{constructor(r,t){this.length=r,this.t=new Uint32Array(r+32>>>5),t===!0&&this.i()}get(r){return(this.t[r>>>5]&1<<r)!=0}set(r){this.t[r>>>5]|=1<<r}clear(r){this.t[r>>>5]&=~(1<<r)}o(r){this.t[r>>>5]^=1<<r}h(r,t,n){if(t<r)return;const o=this.t,i=n===!0?4294967295:0,a=r>>>5,s=t>>>5;for(let u=a;u<s;++u)o[u]=i;const l=a<<5,c=s<<5;if(n===!0)if(t-r<32)for(let u=r,f=t+1;u<f;++u)o[u>>>5]|=1<<u;else{for(let u=r,f=l;u<f;++u)o[u>>>5]|=1<<u;for(let u=c,f=t+1;u<f;++u)o[u>>>5]|=1<<u}else if(t-r<32)for(let u=r,f=t+1;u<f;++u)o[u>>>5]&=~(1<<u);else{for(let u=r,f=l;u<f;++u)o[u>>>5]&=~(1<<u);for(let u=c,f=t+1;u<f;++u)o[u>>>5]&=~(1<<u)}return this}l(r,t){return this.h(r,t,!0)}u(r,t){return this.h(r,t,!1)}A(...r){const t=this.t,n=r.length;for(let o=0;o<n;++o){const i=r[o];t[i>>>5]|=1<<i}return this}p(...r){const t=this.t,n=r.length;for(let o=0;o<n;++o){const i=r[o];t[i>>>5]&=~(1<<i)}return this}i(){return this.h(0,this.length-1,!0)}M(){return this.h(0,this.length-1,!1)}m(){const r=this.t.length,t=this.t,n=32-this.length%32;for(let o=0;o<r-1;++o)t[o]=~t[o];return t[r-1]=~(t[r-1]<<n)>>>n,this}S(r,t,n){if(t<r)return;const o=this.t,i=n===!0?4294967295:0,a=r>>>5,s=t>>>5;for(let l=a;l<s;++l)if(o[l]!==i)return!1;if(t-r<32){for(let l=r,c=t+1;l<c;++l)if(!!(o[l>>>5]&1<<l)!==n)return!1}else{const l=s<<5;for(let c=r,u=a<<5<<5;c<u;++c)if(!!(o[c>>>5]&1<<c)!==n)return!1;for(let c=l,u=t+1;c<u;++c)if(!!(o[c>>>5]&1<<c)!==n)return!1}return!0}U(r,t){return this.S(r,t,!0)}_(r,t){return this.S(r,t,!1)}q(){return this.S(0,this.length-1,!0)}v(){return this.S(0,this.length-1,!1)}O(...r){const t=this.t,n=r.length;for(let o=0;o<n;++o){const i=r[o];if((t[i>>>5]&1<<i)==0)return!1}return!0}C(...r){const t=this.t,n=r.length;for(let o=0;o<n;++o){const i=r[o];if((t[i>>>5]&1<<i)!=0)return!1}return!0}G(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);for(let i=0;i<o;++i)if(t[i]!==n[i])return!1;return!0}P(){const r=this.t.length,t=this.t;let n=0;for(let o=0;o<r;++o)n+=be(t[o]);return n}R(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);for(let i=0;i<o;++i)t[i]=t[i]&~n[i];for(let i=t.length;i<o;++i)t[i]=0;return this}I(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);for(let i=0;i<o;++i)t[i]|=n[i];for(let i=t.length;i<o;++i)t[i]=0;return this}T(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);for(let i=0;i<o;++i)t[i]&=n[i];for(let i=t.length;i<o;++i)t[i]=0;return this}F(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);for(let i=0;i<o;++i)if((t[i]&n[i])!=0)return!0;return!1}D(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length);let i=0;for(let a=0;a<o;++a)i+=be(t[a]&n[a]);return i}B(r){const t=this.t,n=r.t,o=Math.min(t.length,n.length),i=new Uint32Array(o),a=Object.create(Oe.prototype);a.t=i,a.length=Math.min(this.length,r.length);for(let s=0;s<o;++s)i[s]=t[s]&n[s];return a}forEach(r){const t=this.t.length,n=this.t;let o=0;for(let i=0;i<t;++i){let a=n[i];for(;a!==0;){const s=a&-a;r((i<<5)+be(s-1),o),a^=s,++o}}}toArray(){const r=this.t,t=Array(this.P()),n=this.t.length;let o=0;for(let i=0;i<n;++i){let a=r[i];for(;a!==0;){const s=a&-a;t[o++]=(i<<5)+be(s-1),a^=s}}return t}toString(){return"{"+this.toArray().join(",")+"}"}N(){const r=this.toArray().join(",");return r?"@"+r:"NONE"}clone(){const r=Object.create(Oe.prototype);return r.length=this.length,r.t=new Uint32Array(this.t),r}}const Il={matrix:[[58,23,-12,-7,-44,10,-23,-14,-14,-27,-17,-8,1,-9,-22,23,15,5,-74,-45,0],[23,224,-67,-63,-50,-30,-29,1,-56,-41,-6,-33,-44,-53,-43,15,2,18,-93,-6,0],[-12,-67,111,59,-104,-4,4,-84,6,-88,-65,48,-13,18,-29,5,-7,-63,-105,-73,0],[-7,-63,59,85,-83,-17,-1,-63,25,-60,-47,15,-12,40,-8,1,-7,-47,-108,-51,0],[-44,-50,-104,-83,144,-93,4,12,-74,36,30,-64,-67,-56,-65,-43,-41,-3,63,104,0],[10,-30,-4,-17,-93,140,-32,-95,-27,-91,-75,4,-36,-29,-32,5,-26,-68,-80,-79,0],[-23,-29,4,-1,4,-32,137,-50,6,-37,-42,21,-23,27,19,-4,-12,-44,-13,48,0],[-14,1,-84,-63,12,-95,-50,86,-53,53,47,-62,-60,-47,-55,-43,-8,69,-27,-24,0],[-14,-56,6,25,-74,-27,6,-53,75,-48,-30,13,-12,34,68,-3,-4,-44,-71,-49,0],[-27,-41,-88,-60,36,-91,-37,53,-48,88,62,-63,-48,-36,-48,-47,-25,36,-11,-4,0],[-17,-6,-65,-47,30,-75,-42,47,-30,62,103,-45,-54,-21,-31,-35,-9,31,-46,-20,0],[-8,-33,48,15,-64,4,21,-62,13,-63,-45,89,-25,12,2,22,10,-51,-79,-29,0],[1,-44,-13,-12,-67,-36,-23,-60,-12,-48,-54,-25,160,-6,-20,5,-12,-42,-76,-83,0],[-9,-53,18,40,-56,-29,27,-47,34,-36,-21,12,-6,75,34,1,-4,-37,-92,-48,0],[-22,-43,-29,-8,-65,-32,19,-55,68,-48,-31,2,-20,34,113,-10,-14,-49,-58,-39,0],[23,15,5,1,-43,5,-4,-43,-3,-47,-35,22,5,1,-10,53,32,-28,-62,-31,0],[15,2,-7,-7,-41,-26,-12,-8,-4,-25,-9,10,-12,-4,-14,32,68,0,-87,-40,0],[5,18,-63,-47,-3,-68,-44,69,-44,36,31,-51,-42,-37,-49,-28,0,74,-61,-32,0],[-74,-93,-105,-108,63,-80,-13,-27,-71,-11,-46,-79,-76,-92,-58,-62,-87,-61,289,81,0],[-45,-6,-73,-51,104,-79,48,-24,-49,-4,-20,-29,-83,-48,-39,-31,-40,-32,81,162,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],H:22,$:-300},Tl={matrix:[[91,-114,-31,-123],[-114,100,-125,-31],[-31,-125,100,-114],[-123,-31,-114,91]],$:-400,H:120},_l=/^[ACGTRNDEQHILKMFPSWYV]+$/,Rl=/^[ABCDGHKMNRSTUVWY]+$/i,Pl=/^[ABCGTRNDEQHIJLKMFPSWYUVXZ]+$/i,Sl=/[^ACGU]/i,Cl=/[^ACGT]/i;function Nc(e){if(!Sl.test(e)||!Cl.test(e))return 1;const r=Rl.test(e),t=_l.test(e);if(t&&!r)return 0;if(t&&r||Pl.test(e))return Mc(e);throw Error("Unrecognized sequence type: "+e)}function Mc(e){let r=0;const t=Math.min(e.length,100);for(let n=0;n<t;n++)switch(e[n]){case"A":case"T":case"U":case"G":case"C":case"N":r++}return r/t>Math.SQRT1_2?1:0}const br=new Uint8Array(96);br.fill(255),br[65]=0,br[67]=1,br[68]=2,br[69]=3,br[70]=4,br[71]=5,br[72]=6,br[73]=7,br[75]=8,br[76]=9,br[77]=10,br[78]=11,br[80]=12,br[81]=13,br[82]=14,br[83]=15,br[84]=16,br[86]=17,br[87]=18,br[89]=19,br[95]=20;const ie=new Uint8Array(96);function Al(e,r){const t=Math.floor(100*Math.random());if(r===1)switch(e){case"M":return[0,1][t%2];case"R":return[0,2][t%2];case"W":return[0,3][t%2];case"S":return[1,2][t%2];case"Y":return[1,3][t%2];case"K":return[2,3][t%2];case"V":return[0,1,2][t%3];case"H":return[0,1,3][t%3];case"D":return[0,2,3][t%3];case"B":return[1,2,3][t%3];default:return t%4}switch(e){case"B":return[2,11][t%2];case"Z":return[3,13][t%2];case"J":return[7,9][t%2];default:return t%20}}function ql(e){return e.map(r=>kl[r])}ie.fill(255),ie[65]=0,ie[67]=1,ie[71]=2,ie[84]=3,ie[85]=3;const kl=[0,1,2,2,3,0,4,5,4,5,5,2,0,2,4,0,0,5,3,3];function jl(e,r,t){const n=[],o=t.gapchar;let i=0;for(let a=0;a<r.length;a++){let s=r[a];s<0?n.push(o.repeat(-s)):(n.push(e.substr(i,s)),i+=s)}return n.join("")}function De(e,r){const t=[0];let n=0;const o=r.slice();function i(a){(a^t[t.length-1])>=0?t[t.length-1]+=a:t.push(a)}for(let a=0;a<e.length;a++){let s=e[a];if(s<0)i(s);else for(;s>0&&n<o.length;){let l=o[n];l<0?s<-l?(o[n]+=s,i(-s),s=0):(i(l),s+=l,n++):s<l?(o[n]-=s,i(s),s=0):(i(l),s-=l,n++)}}return t}function xl(e,r){const t=[];let n=0,o=0,i=e[0],a=r[0];for(;n<e.length||o<r.length;)i!==a?Math.sign(i)!==Math.sign(a)?i<0||a===void 0?(t.push(i),i=e[++n]):(t.push(a),a=r[++o]):i>0?i>a?(t.push(a),i-=a,a=r[++o]):(t.push(i),a-=i,i=e[++n]):(t.push(Math.min(i,a)),i=e[++n],a=r[++o]):(t.push(a),i=e[++n],a=r[++o]);return t}function Nl(e,r){const t=[];let n=0,o=0,i=r[0],a=e[0],s=0;for(;n<r.length||o<e.length;)if(s=t[t.length-1],i!==a){if(Math.sign(i)===Math.sign(a)){if(i>0){if(a>i)return;s>0?t[t.length-1]=s+a:t.push(a),i-=a,a=e[++o];continue}if(i>a){s>0?t[t.length-1]=s-i:t.push(Math.abs(i)),a-=i,i=r[++n];continue}return}if(!(a<0))return;s<0?t[t.length-1]=s+a:t.push(a),a=e[++o]}else s>0?t[t.length-1]=s+Math.abs(i):t.push(Math.abs(i)),i=r[++n],a=e[++o];return t}function Dc(e,r){if(Math.sign(e[e.length-1])===Math.sign(r[0])){let t=[...e];return t[t.length-1]+=r[0],t.push(...r.slice(1)),t}return[...e,...r]}function re(e,r=0){const t=[];let n=0,o=0;for(let i=0;i<e.length;i++)o=e[i],(o^n)>=0?n+=o:(t.push(n),n=o);return t.push(n),t[0]===0&&t.shift(),1&r||t.reverse(),t}function qo(e){let r=0,t=0;for(let n=0;n<e.length;n++)t=e[n],r+=t<0?-t:t;return r}function Wc(e){const r=[];let t=0,n=0;for(let o=0;o<e.length;o++)if(n=e[o],n<0)for(let i=0;i<-n;i++)r.push(-1);else for(let i=0;i<n;i++)r.push(t),t++;return r}function We(e,r,t,n=0){const o=e.V,i=r.V,a=o.length,s=i.length;let l=0,c=[],u=[],f=0,h=0,v=0,y=0;const p=new Uint8Array(Math.ceil((a+1)*s/2)+1);let g=0,m=0,d=0,T=0,w=0,C=t.W[0];const A=t.$,E=1&n?0:-A/2,O=2&n?0:-A/2;c[0]=0,u[0]=-1/0;for(let B=1;B<=s;B++)c[B]=A+E,u[B]=-1/0;for(let B=1;B<=a;B++){f=E,h=-1/0,C=t.W[o[B-1]];for(let W=1;W<=s;W++)w=0,g=c[W]+A,d=u[W],W===s&&(g+=O),g>=d?u[W]=g:w+=1,m=f+A,T=h,B===a&&(m+=O),m>=T?h=m:w+=2,l=c[W-1]+C[i[W-1]],c[W-1]=f,l>=h?l>=u[W]?f=l:(f=u[W],w+=4):h>=u[W]?(f=h,w+=8):(f=u[W],w+=4),v=B*s+W,y=v%2,v>>>=1,p[v]+=y?w:w<<4;c[s]=f}const _=Math.max(l,h,u[u.length-1]),[I,F]=ko(p,a,s,w);return{j:[re(I),re(F)],K:_}}function ko(e,r,t,n){let o=r,i=t,a=r*t+t,s=a,l=1;const c=[],u=[];let f=(12&n)>>2,h=0;for(;o>0&&i>0;)a=o*t+i,s=a>>>1,l=a%2,h=e[s],h=l?15&h:h>>>4,f===0?(h>>=2,h===0&&(o--,i--,c.push(1),u.push(1))):f===2?(c.push(-1),u.push(1),h&=2,i--):(c.push(1),u.push(-1),h&=1,o--),f=h;return o>0?(c.push(o),u.push(-o)):i>0&&(c.push(-i),u.push(i)),[c,u]}class Lc{constructor(r,t,n,o=0){this.Y=0,this.length=0,this.weight=0,this.length=r,this.J=new Oe(r),this.L=new Uint8Array(t*r),this.Z=new Uint8Array(t*r),this.X=new Float32Array(t*r),this.tt=new Float32Array(t*r),this.et=new Uint8Array(r),this.rt=new Float32Array(r),this.nt=new Float32Array(r),this.it=new Float32Array(r),this.st=new Float32Array(r),this.ot=new Float32Array(r),this.Y=n,this.ht=t,this.weight=o}ct(r=0){return new Ml(this,r)}}class Ml{constructor(r,t=0){this.lt=0,this.ht=4,this.offset=0,this.ut=r,this.lt=t,this.ht=r.ht,this.offset=this.lt*this.ht}ft(r){this.lt=r,this.offset=r*this.ht}get J(){return this.ut.J.get(this.lt)}set J(r){r?this.ut.J.set(this.lt):this.ut.J.clear(this.lt)}get L(){return this.ut.L.subarray(this.offset,this.offset+this.ht)}set L(r){this.ut.L.set(r,this.offset)}get et(){return this.ut.et[this.lt]}set et(r){this.ut.et[this.lt]=r}get Z(){return this.ut.Z.subarray(this.offset,this.offset+this.ht)}set Z(r){this.ut.Z.set(r,this.offset)}get X(){return this.ut.X.subarray(this.offset,this.offset+this.ht)}set X(r){this.ut.X.set(r,this.offset)}get tt(){return this.ut.tt.subarray(this.offset,this.offset+this.ht)}set tt(r){this.ut.tt.set(r,this.offset)}get rt(){return this.ut.rt[this.lt]}set rt(r){this.ut.rt[this.lt]=r}get nt(){return this.ut.nt[this.lt]}set nt(r){this.ut.nt[this.lt]=r}get it(){return this.ut.it[this.lt]}set it(r){this.ut.it[this.lt]=r}get st(){return this.ut.st[this.lt]}set st(r){this.ut.st[this.lt]=r}get ot(){return this.ut.ot[this.lt]}set ot(r){this.ut.ot[this.lt]=r}}function Dl(e,r,t,n=0){const o=e.V,i=o.length,a=new Lc(i,t.dt,1,r);let s=r;const l=t.$;let c=a.ct(),u=0;for(let f=0;f<i;f++){c.ft(f),u=o[f],c.Z[u]=1,c.X[u]=s,c.L[c.et]=u,c.et=1,c.rt=s,c.st=l/2*s,c.ot=l/2*s;for(let h=0;h<t.dt;h++)c.tt[h]=s*t.W[h][u]}return 1&n||(a.st[0]/=2),2&n||(a.st[i-1]/=2),a}function jo(e,r,t,n,o,i=0){const a=qo(t),s=e.Y+r.Y,l=e.weight+r.weight,c=new Lc(a,o.dt,s,l),u=o.$;let f=c.ct(),h=e.ct(),v=r.ct(),y=Wc(t),p=Wc(n),g=0,m=0,d=1,T=1,w=!1,C=!1,A=!1,E=!1,O=0;for(let _=0;_<a;_++){if(f.ft(_),g=y[_],h.ft(g),g===-1?(w=d>=0,C=_===a-1||y[_+1]>0):(w=!1,C=!1),d=g,m=p[_],v.ft(m),m===-1?(A=T>=0,E=_==a-1||p[_+1]>0):(A=!1,E=!1),T=m,O=0,g!==-1&&m!==-1){f.nt=h.nt+v.nt,f.it=h.it+v.it,f.rt=h.rt+v.rt,f.Z.set(h.Z),f.X.set(h.X);for(let I=0;I<r.ht;I++){let F=v.Z[I];F&&(f.Z[I]+=F,f.X[I]+=v.X[I]),f.Z[I]&&(f.L[O]=I,O++),f.tt[I]=h.tt[I]+v.tt[I]}f.et=O}else g==-1?(f.nt=v.nt+(w?e.weight:0),f.it=v.it+(C?e.weight:0),f.rt=v.rt,f.Z.set(v.Z),f.X.set(v.X),f.L.set(v.L),f.tt.set(v.tt),f.et=v.et):m==-1&&(f.nt=h.nt+(A?r.weight:0),f.it=h.it+(E?r.weight:0),f.rt=h.rt,f.Z.set(h.Z),f.X.set(h.X),f.L.set(h.L),f.tt.set(h.tt),f.et=h.et);f.st=u/2*(1-f.nt)*f.rt,f.ot=u/2*(1-f.it)*f.rt}return 1&i||(c.st[0]/=2),2&i||(c.st[a-1]/=2),c}function ce(e){return"gt"in e}function Wl(e,r){let t=1/0,n=0,o=0,i=e.length;for(let a=0;a<i;a++)for(let s=a+1;s<i;s++)e[a][s]<t&&(t=e[a][s],n=a,o=s);return[{profile:null,wt:r[n],At:r[o],Mt:t,yt:[],St:[],Ut:[],type:1,_t:0,id:"",qt:[],parent:-1,weight:0},n,o]}function Ll(e,r,t,n){const[o,i]=r>t?[r,t]:[t,r],a=[],s=e.length;for(let l=0;l<s;l++){if(l==r||l==t)continue;const c=.1*(e[l][r]+e[l][t])/2+.9*Math.min(e[l][r],e[l][t]);e[l].push(c),a.push(c),e[l].splice(o,1),e[l].splice(i,1)}return a.push(0),e.push(a),e.splice(o,1),e.splice(i,1),n.splice(o,1),n.splice(i,1),e}class Fl{constructor(r){this.bt=r,this.store=Array(r),this.head=0,this.vt=0}get size(){return(this.vt-this.head+this.bt)%this.bt}get Ot(){return this.head===this.vt}Ct(){if(this.Ot)return null;const r=this.store[this.head];return this.head++,this.head>=this.bt&&(this.head=0),r}Et(){return this.Ot?null:(this.vt--,this.vt<0&&(this.vt=this.bt-1),this.store[this.vt])}Gt(r){this.head--,this.head<0&&(this.head=this.bt-1),this.store[this.head]=r,this.head===this.vt&&(this.vt=(this.vt-1+this.bt)%this.bt)}Pt(r){this.store[this.vt]=r,this.vt++,this.vt>=this.bt&&(this.vt=0),this.head===this.vt&&(this.head=(this.head-1+this.bt)%this.bt)}Rt(r=0){const t=r===0?this.head:(this.head+r+this.bt)%this.bt;return this.store[t]}It(r=0){const t=(this.vt-1-r+this.bt)%this.bt;return this.store[t]}}function xo(e,r,t){const n=new Map,o=new Fl(t),i=0|r,a=new Uint16Array(e.V.length-i+1);let s=0,l=0;for(let y=0;y<i;y++)s|=e.V[i-y-1]<<2*y;a[l++]=s;for(let y=i,p=e.V.length;y<p;y++)s=(s<<2)+e.V[y],a[l++]=s;const c=e.Tt.length*(2/(t+1))*2|0,u={Ft:new Uint16Array(c),Dt:new Uint16Array(c),xt:new Uint16Array(c),Bt:new Uint16Array(c),count:0};let f=NaN,h=0,v=-17;for(let y=0;y<a.length;y++){const p=a[y];for(v++;!o.Ot&&((h=o.It())<v||a[h]>=p);)o.Et();if(o.Pt(y),v<0)continue;for(;o.Rt()<v;)o.Ct();let g=o.Rt();if(g===f)u.Bt[u.count-1]=y+i;else{const m=a[g],d=u.count;u.count++,u.Ft[d]=m,u.Dt[d]=g,u.xt[d]=v,u.Bt[d]=y+i,f=g,n.has(m)?n.get(m).push(d):n.set(m,[d])}}return[n,u,a]}function Fc(e,r,t,n,o){const[i,a,s]=n??xo(e,8,24),[l,c,u]=o??xo(r,8,24);e.Tt.length,r.Tt.length;const f=new Map;for(let E=0;E<a.count;E++){let O=a.Ft[E];if(!l.has(O))continue;let _=l.get(O);if(_.length>4)continue;let I=e.Tt.substring(a.xt[E],a.Bt[E]);for(let F=0;F<_.length;F++){let B=_[F],W=r.Tt.substring(c.xt[B],c.Bt[B]),N=Math.min(I.length,W.length),M=!1;M=N==I.length?W.indexOf(I)===0:I.indexOf(W)===0;let Y,V=0;M?(V=a.xt[E]-c.xt[B],Y={Nt:V,Ht:a.xt[E],end:a.xt[E]+N}):(V=a.Dt[E]-c.Dt[B],Y={Nt:V,Ht:a.Dt[E],end:a.Dt[E]+8-1}),f.has(V)?f.get(V).push(Y):f.set(V,[Y])}}let h=[];if(f.forEach(E=>{if(!E.length)return;let O=E[0];h.push(O),E.forEach(_=>{_.Ht<=O.end?O.end=_.end:(O=_,h.push(O))})}),h.length===0)return We(e,r,t).j;h.sort((E,O)=>{let _=E.Ht+E.Nt-O.Ht-O.Nt;return _===0?E.Nt-O.Nt:_}),h=function(E,O,_){var I;const F=1/Math.max(O,_),B=O-_;let W=[0],N=new Int16Array(E.length);N[0]=-1;let M=E[0],Y=M.end-M.Ht,V=M.end-M.Nt,or=M.Ht-M.Nt,ar=Math.min(_-V,O-M.end),ur=[Y],J=[V],hr=[ar],Pr=E[0],tr=0,Sr=E[tr],yr=Y,Cr=0;for(let cr=1;cr<E.length;cr++){if(M=E[cr],Y=M.end-M.Ht,V=M.end-M.Nt,or=M.Ht-M.Nt,ar=M.Nt<B?_-V:O-M.end,Cr===20){Cr=0;let mr=[],Ir=W.length-1,dr=J[Ir],z=O-M.Ht;for(;Ir--;)J[Ir]>dr?mr.push(Ir):(dr=J[Ir],ur[Ir]+Math.min(hr[Ir],z)<yr&&mr.push(Ir));mr.forEach(kr=>{W.splice(kr,1),ur.splice(kr,1),J.splice(kr,1),hr.splice(kr,1)})}if(M.Nt>=Pr.Nt&&V<J[0]){if(Y+ar<yr)continue;if(N[cr]=-1,Pr=E[cr],Cr++,Y<ur[0]){W.unshift(cr),ur.unshift(Y),J.unshift(V),hr.unshift(ar);continue}Y>yr&&(yr=Y),W[0]=cr,ur[0]=Y,J[0]=V,hr[0]=ar}else{for(let mr=W.length-1;mr>=0;mr--)if(tr=W[mr],Sr=E[tr],M.Ht>=Sr.end&&J[mr]<or){const Ir=Math.abs(M.Nt-tr)*F,dr=ur[mr]+Y-Ir;if(dr+ar<yr)continue;let z=mr;for(;z<W.length&&ur[z]<dr;)z++;if(z===W.length)yr=dr,hr.push(ar),ur.push(dr),J.push(V),W.push(cr);else{if(V>=J[J.length-1])continue;hr.splice(z,0,ar),ur.splice(z,0,dr),J.splice(z,0,V),W.splice(z,0,cr)}N[cr]=tr,Cr++;break}Y>yr&&(N[cr]=-1,yr=Y,hr.push(ar),ur.push(Y),J.push(V),W.push(cr),Cr++)}}let wr=[],Er=(I=W.pop())!==null&&I!==void 0?I:0,Ar=Er;for(;Er>-1&&Ar>-1;)wr.push(Er),Er=N[Er],Ar--;let Fr=[];for(let cr=wr.length-1;cr>=0;cr--)Fr.push(E[wr[cr]]);return Fr}(h,e.V.length,r.V.length);let v={Nt:0,Ht:0,end:0},y=[v],p=[];for(let E=0;E<h.length;E++){let O=h[E];if(O.Nt!==v.Nt){let _=v.end,I=_-v.Nt;for(;e.V[_]===r.V[I]&&_<O.Ht&&I<O.Ht-O.Nt;)_++,I++;for(v.end=_,_=O.Ht,I=_-O.Nt;e.V[_]===r.V[I]&&_>v.end&&I>v.end-v.Nt;)_--,I--;O.Ht=_+1,p.push({$t:O.Nt,kt:v.Nt,Ht:v.end,end:O.Ht}),y.push(O),v=O}else{let _=v.end,I=_-O.Nt,F=0;for(;_<O.Ht&&I<O.Ht-O.Nt&&F<2;)_+=8,I+=8,F=Hc(s[_],u[I])<=2?0:F+1;for(_>v.end&&(v.end=Math.max(_-2-8,v.end)),_=O.Ht-8,I=_-O.Nt,F=0;_>v.end&&I>v.end-v.Nt&&F<2;)_-=8,I-=8,F=Hc(s[_],u[I])<=2?0:F+1;if(_<O.Ht-16&&(O.Ht=_+24+2),O.Ht-v.end<=24){v.end=O.end;continue}p.push({kt:v.Nt,$t:O.Nt,Ht:v.end,end:O.Ht}),y.push(O),v=O}}let g=y[0];const m=[],d=[];for(let E=0;E<y.length;E++){g=y[E],m.push(g.end-g.Ht),d.push(g.end-g.Ht);let O=p[E];if(O){if(O.Ht===O.end){const I=Math.abs(O.$t-O.kt);m.push(-I),d.push(I);continue}if(O.Ht-O.kt==O.end-O.$t){const I=O.end-O.Ht;d.push(-I),m.push(I);continue}let _=We({Tt:e.Tt.substring(O.Ht,O.end),type:e.type,V:e.V.subarray(O.Ht,O.end)},{Tt:r.Tt.substring(O.Ht-O.kt,O.end-O.$t),type:r.type,V:r.V.subarray(O.Ht-O.kt,O.end-O.$t)},t,3);m.push(..._.j[0]),d.push(..._.j[1])}}Uc(m,e.V.length),Uc(d,r.V.length);let T=re(m,1),w=re(d,1);const C=qo(T),A=qo(w);return C>A?w=Dc(w,[A-C]):C<A&&(T=Dc(T,[C-A])),[T,w]}function Uc(e,r){let t=r-function(n){let o=0,i=0;for(let a=0;a<n.length;a++)i=n[a],i<0||(o+=i);return o}(e);t>0?e.push(t):t<0&&(e[e.length-1]+=t)}function Hc(e,r){let t=e^r;return t=1431655765&t|t>>1&1431655765,be(t)}const Bc={Vt:"auto",gapchar:"-",Wt:"auto",debug:!1},Ul=new class{constructor(){this.jt=[],this.Kt=2,this.Yt=Object.assign({},Bc)}Jt(e){if(Array.isArray(e))e.forEach(r=>{this.Jt(r)});else{if(typeof e!="string")throw new TypeError("String type expected for sequences to add.");if(e=e.toUpperCase(),this.Yt.Vt==="auto"){const r=Nc(e);if(this.Kt===2)this.Kt=r;else if(this.Kt!==r)throw Error("All sequences must be of same type.")}this.jt.push(function(r,t){const n=t??Nc(r),o=function(i,a){const s=new Uint8Array(i.length),l=a===0?br:ie;let c=0;for(let u=0,f=i.length;u<f;u++)c=l[i.charCodeAt(u)],c===255&&(c=Al(i[u],a)),s[u]=c;return s}(r,n);return{Tt:r,V:o,zt:n===0?ql(o):o,type:n}}(e,this.Kt))}}reset(){this.jt=[],this.Kt=2,this.Lt()}Lt(){this.Yt=Object.assign({},Bc)}Qt(e){var r;function t(n,o){return o.some(i=>i==n)}e.method&&t(e.method,["complete","diag"])&&(this.Yt.Wt=e.method),e.type&&t(e.type,["amino","nucleic"])&&(this.Yt.Vt=e.type,this.Kt=e.type==="amino"?0:1),((r=e.gapchar)===null||r===void 0?void 0:r.length)===1&&(this.Yt.gapchar=e.gapchar),e.debug!==void 0&&(this.Yt.debug=!!e.debug)}align(e,r){return new Promise((n,o)=>{if(!Array.isArray(e)||e.some(c=>typeof c!="string"))return o("Array of sequences expected");if(e.length<2)return o("At least 2 sequences are required.");this.reset(),r&&this.Qt(r),this.Jt(e);const i=function(c,u){var f,h;const v=c===0?Il:Tl;let y=(f=u?.matrix)!==null&&f!==void 0?f:v.matrix,p=u?.gapextend?2*-u.gapextend:v.H;var g;return{type:c,W:(g=p,y.map(m=>m.map(d=>d+g))),$:(h=u?.gapopen)!==null&&h!==void 0?h:v.$,dt:c===0?20:4}}(this.Kt,r);let a,s=!1;s=this.Yt.Wt==="auto"?this.jt.some(c=>c.Tt.length>1600):this.Yt.Wt==="diag",a=this.jt.length==2?s?Fc(this.jt[0],this.jt[1],i):We(this.jt[0],this.jt[1],i).j:s?function(c,u){let f=c.map(p=>xo(p,8,24)),h=[],v=[],y=[];for(let p=0;p<f.length;p++){if(p===0)continue;let g=Fc(c[0],c[p],u,f[0],f[p]);v=v.length===0?g[0]:xl(v,g[0]),y[p]=g[0],h[p]=g[1]}for(let p=0;p<f.length;p++){if(p===0){h[p]=v;continue}let g=Nl(v,y[p]);if(!g)throw console.error("An error occured while computing the center diff. for sequence #"+p,v,y[p]),console.dir(h),console.dir(y),new RangeError;h[p]=De(g,h[p])}return h}(this.jt,i):function(c,u){const f=(p,g)=>{const m=h[p.wt],d=h[p.At];let T={};if(ce(m)||m.St.length!==0||f(m,g),ce(d)||d.St.length!==0||f(d,g),ce(m))if(ce(d)){const w=We(m.gt,d.gt,u);T.K=w.K,p.Ut=[m.Ut[0],d.Ut[0]],p.yt=w.j,p.profile=jo(m.profile,d.profile,w.j[0],w.j[1],u)}else{d.qt=d.Ut.map(C=>g[C]);const w=function(C,A,E,O=0){const _=A.gt,I=A.weight,F=_.Tt.length,B=C.profile.length;let W=0,N=[],M=[];const Y=new Uint8Array(Math.ceil((B+1)*(F+1)/2)+1);let V,or,ar,ur=0,J=0,hr=0,Pr=0,tr=0,Sr=0,yr=0,Cr=0,wr=0,Er=0,Ar=0,Fr=0,cr=0;const mr=E.$*I,Ir=mr/2,dr=mr/2,z=1&O?0:-mr/4,kr=2&O?0:-mr/4,ee=_.V,P=C.profile;N[0]=0,M[0]=-1/0;for(let L=1;L<=F;L++)N[L]=Ir+dr+z,M[L]=-1/0;for(let L=1;L<=B;L++){Fr=P.st[L-1],cr=P.ot[L-1],ar=P.tt.subarray((L-1)*E.dt,L*E.dt),wr=z,Sr=-1/0,M[0]=P.st[0];for(let R=1;R<=F;R++)tr=0,ur=N[R]+Fr,hr=Cr=M[R],R===F&&(ur-=Fr/2),ur>=hr?M[R]=ur:tr+=1,J=wr+Ir,Pr=yr=Sr,L===B&&(J+=kr),J>=Pr?Sr=J:tr+=2,Er=Cr+cr,Ar=yr+dr,W=N[R-1]+ar[ee[R-1]],R===F&&(Ar+=kr),N[R-1]=wr,W>=Ar?W>=Er?wr=W:(wr=Er,tr+=4):Ar>=Er?(wr=Ar,tr+=8):(wr=Er,tr+=4),V=L*F+R,or=V%2,V>>>=1,Y[V]+=or?tr:tr<<4;N[F]=wr}const x=Math.max(W,Sr,M[M.length-2]),[q,X]=ko(Y,B,F,tr);return{j:[re(q),re(X)],K:x}}(d,m,u);T.K=w.K,p.Ut=[m.Ut[0],...d.Ut],p.yt=[w.j[1],...d.yt.map(C=>De(w.j[0],C))],p.profile=jo(m.profile,d.profile,w.j[1],w.j[0],u)}else if(!ce(d)){d.qt=d.Ut.map(C=>g[C]),m.qt=m.Ut.map(C=>g[C]);const w=function(C,A,E,O=0){const _=C.profile.length,I=A.profile.length,F=new Uint8Array(Math.ceil((_+1)*(I+1)/2)+1);let B,W,N=[],M=[],Y=0,V=0,or=0,ar=0,ur=0,J=0,hr=0,Pr=0,tr=0,Sr=0,yr=0,Cr=0,wr=0,Er=0,Ar=new Float32Array(E.dt),Fr=new Uint8Array(E.dt),cr=0,mr=0,Ir=0,dr=0,z=0,kr=0;const ee=1&O?1:2,P=A.profile,x=C.profile;for(N[0]=0,M[0]=-1/0,z=1;z<=I;z++)N[z]=P.st[0]+P.ot[z-1]/ee,M[z]=-1/0;const q=x.st[0];for(dr=1;dr<=_;dr++){for(Ar=x.tt.subarray(E.dt*(dr-1),E.dt*dr),wr=x.st[dr-1],Er=x.ot[dr-1],tr=q+Er/ee,hr=-1/0,M[0]=x.st[0],z=1;z<=I;z++){for(J=0,V=N[z]+wr,ar=Sr=M[z],z!==I||2&O||(V-=wr/2),V>=ar?M[z]=V:J+=1,or=tr+P.st[z-1],ur=Pr=hr,dr!==_||2&O||(or-=P.st[z-1]/2),or>=ur?hr=or:J+=2,Y=N[z-1],Ir=P.et[z-1],kr=0,mr=(z-1)*E.dt,Fr=P.L.subarray(mr,mr+Ir);kr<Ir;)cr=Fr[kr],Y+=Ar[cr],kr++;yr=Sr+Er,Cr=Pr+P.ot[z-1],z!==1||2&O||(yr-=Er/2),z!==I||2&O||(yr-=Er/2,Cr-=P.ot[I-1]/2),N[z-1]=tr,Y>=Cr?Y>=yr?tr=Y:(tr=yr,J+=4):Cr>=yr?(tr=Cr,J+=8):(tr=yr,J+=4),B=dr*I+z,W=B%2,B>>>=1,F[B]+=W?J:J<<4}N[I]=tr}const X=Math.max(Y,hr,M[z-1]),[L,R]=ko(F,_,I,J);return{j:[re(L),re(R)],K:X}}(m,d,u);T.K=w.K,p.yt=[...m.yt.map(C=>De(w.j[0],C)),...d.yt.map(C=>De(w.j[1],C))],p.profile=jo(m.profile,d.profile,w.j[0],w.j[1],u)}return p.Ut=[...m.Ut,...d.Ut],T.K},h=function(p,g){let m,d,T,w=[],C=p.length,A=[];for(let E=0;E<C;E++)w[E]={type:0,gt:g[E],profile:null,wt:E,At:E,Mt:0,Ut:[E],St:[],id:E.toString(),weight:0,parent:-1,_t:0},A[E]=E;for(let E=0,O=C-1;E<O;E++){[m,d,T]=Wl(p,A);const _=w[m.wt],I=w[m.At];m.id=_.id<I.id?`|${_.id},${I.id}|`:`|${I.id},${_.id}|`,m._t=Math.max(_._t,I._t)+1,I.parent=_.parent=w.length,A.push(C+E),w.push(m),p=Ll(p,d,T,A)}return w[w.length-1].type=2,w}(function(p){const g=p[0].type===0,m=g?6:4,d=Math.pow(m,6),T=p.map(W=>{const N=new Oe(d),M=g?W.zt:W.V;let Y=0;for(let or=0;or<6;or++)Y+=M[or]*Math.pow(m,or);N.set(Y);const V=Math.pow(m,5);for(let or=6,ar=M.length;or<ar;or++)Y-=M[or-6],Y/=m,Y+=M[or]*V,N.set(Y);return N}),w=p.length,C=p.map(()=>[]);let A,E,O,_,I,F,B;for(let W=0;W<w;W++){C[W][W]=0,A=T[W],O=A.P(),F=1/(-Math.LN2/Math.log(1-O/d)*2);for(let N=W+1;N<w;N++)_=T[N].P(),I=A.D(T[N]),I+=d-(O+_-I),B=Math.ceil(F*_),I-=B,I=Math.max(I,0),E=1-I/(d-B),C[N][W]=C[W][N]=E}return C}(c),c),v=h[h.length-1],y=function(p){let g=0;return function m(d){let T=0,w=0;switch(d.type){case 2:d.weight=0,m(p[d.wt]),m(p[d.At]);break;case 1:T=p[d.parent].Mt-d.Mt,w=d.id.split(",").length,d.weight=p[d.parent].weight+T/w,m(p[d.wt]),m(p[d.At]);break;case 0:T=p[d.parent].Mt,d.weight=p[d.parent].weight+T,g+=d.weight}}(p[p.length-1]),p.map(m=>m.weight)}(h);return function(p,g,m){let d=0,T=p[d];for(;ce(T)&&d<p.length;)T.profile=Dl(T.gt,T.weight,g,void 0),d++,T=p[d]}(h,u),f(v,y),function(p,g){let m=g.slice();return g.forEach((d,T)=>m[d]=T),m.map(d=>p[d])}(v.yt.slice(),v.Ut)}(this.jt,i);const l=function(c,u,f){var h;let v=(h=f?.gapchar)!==null&&h!==void 0?h:"-",y=[];for(let p=0;p<c.length;p++)y.push(jl(c[p].Tt,u[p],{gapchar:v}));return y}(this.jt,a,{gapchar:this.Yt.gapchar});return n(l)}).catch(n=>Promise.reject(n))}},Gc={A:{A:10,R:-1,N:0,D:-1,C:-1,Q:-1,E:-1,G:1,H:-2,I:0,L:-1,K:-1,M:-1,F:-3,P:1,S:1,T:2,W:-4,Y:-3,V:1,B:0,Z:-1,X:0,"-":0},R:{A:-1,R:10,N:0,D:-1,C:-1,Q:2,E:0,G:0,H:2,I:-3,L:-3,K:4,M:-2,F:-4,P:-1,S:-1,T:-1,W:0,Y:-2,V:-3,B:0,Z:1,X:0,"-":0},N:{A:0,R:0,N:10,D:2,C:-1,Q:0,E:1,G:0,H:1,I:-2,L:-3,K:1,M:-2,F:-3,P:-1,S:1,T:1,W:-4,Y:-1,V:-2,B:2,Z:0,X:0,"-":0},D:{A:-1,R:-1,N:2,D:10,C:-3,Q:0,E:4,G:1,H:0,I:-3,L:-4,K:0,M:-3,F:-5,P:-2,S:0,T:-1,W:-5,Y:-2,V:-3,B:3,Z:2,X:0,"-":0},C:{A:-1,R:-1,N:-1,D:-3,C:10,Q:-3,E:-4,G:-1,H:0,I:-2,L:-3,K:-3,M:-2,F:0,P:-2,S:1,T:-1,W:1,Y:2,V:-2,B:-2,Z:-3,X:0,"-":0},Q:{A:-1,R:2,N:0,D:0,C:-3,Q:10,E:2,G:-1,H:3,I:-3,L:-2,K:2,M:-2,F:-4,P:0,S:-1,T:-1,W:-3,Y:-1,V:-3,B:0,Z:3,X:0,"-":0},E:{A:-1,R:0,N:1,D:4,C:-4,Q:2,E:10,G:1,H:0,I:-3,L:-4,K:1,M:-3,F:-5,P:-2,S:-1,T:-1,W:-5,Y:-4,V:-2,B:2,Z:3,X:0,"-":0},G:{A:1,R:0,N:0,D:1,C:-1,Q:-1,E:1,G:10,H:-2,I:-3,L:-4,K:-1,M:-3,F:-5,P:-1,S:1,T:0,W:-2,Y:-4,V:-2,B:0,Z:0,X:0,"-":0},H:{A:-2,R:2,N:1,D:0,C:0,Q:3,E:0,G:-2,H:10,I:-3,L:-2,K:1,M:-2,F:0,P:0,S:-1,T:-1,W:-3,Y:4,V:-3,B:0,Z:1,X:0,"-":0},I:{A:0,R:-3,N:-2,D:-3,C:-2,Q:-3,E:-3,G:-3,H:-3,I:10,L:2,K:-3,M:3,F:0,P:-2,S:-1,T:1,W:-4,Y:-2,V:4,B:-2,Z:-3,X:0,"-":0},L:{A:-1,R:-3,N:-3,D:-4,C:-3,Q:-2,E:-4,G:-4,H:-2,I:2,L:10,K:-3,M:3,F:2,P:0,S:-2,T:-1,W:-2,Y:-1,V:2,B:-3,Z:-3,X:0,"-":0},K:{A:-1,R:4,N:1,D:0,C:-3,Q:2,E:1,G:-1,H:1,I:-3,L:-3,K:10,M:-2,F:-5,P:-2,S:-1,T:-1,W:-3,Y:-3,V:-3,B:0,Z:1,X:0,"-":0},M:{A:-1,R:-2,N:-2,D:-3,C:-2,Q:-2,E:-3,G:-3,H:-2,I:3,L:3,K:-2,M:10,F:0,P:-2,S:-1,T:0,W:-3,Y:-3,V:2,B:-2,Z:-2,X:0,"-":0},F:{A:-3,R:-4,N:-3,D:-5,C:0,Q:-4,E:-5,G:-5,H:0,I:0,L:2,K:-5,M:0,F:10,P:-2,S:-2,T:-2,W:-1,Y:5,V:0,B:-4,Z:-4,X:0,"-":0},P:{A:1,R:-1,N:-1,D:-2,C:-2,Q:0,E:-2,G:-1,H:0,I:-2,L:0,K:-2,M:-2,F:-2,P:10,S:1,T:1,W:-5,Y:-3,V:-1,B:-1,Z:-1,X:0,"-":0},S:{A:1,R:-1,N:1,D:0,C:1,Q:-1,E:-1,G:1,H:-1,I:-1,L:-2,K:-1,M:-1,F:-2,P:1,S:10,T:1,W:-3,Y:-1,V:-1,B:0,Z:-1,X:0,"-":0},T:{A:2,R:-1,N:1,D:-1,C:-1,Q:-1,E:-1,G:0,H:-1,I:1,L:-1,K:-1,M:0,F:-2,P:1,S:1,T:10,W:-4,Y:-3,V:0,B:0,Z:-1,X:0,"-":0},W:{A:-4,R:0,N:-4,D:-5,C:1,Q:-3,E:-5,G:-2,H:-3,I:-4,L:-2,K:-3,M:-3,F:-1,P:-5,S:-3,T:-4,W:10,Y:0,V:-4,B:-4,Z:-4,X:0,"-":0},Y:{A:-3,R:-2,N:-1,D:-2,C:2,Q:-1,E:-4,G:-4,H:4,I:-2,L:-1,K:-3,M:-3,F:5,P:-3,S:-1,T:-3,W:0,Y:10,V:-3,B:-1,Z:-2,X:0,"-":0},V:{A:1,R:-3,N:-2,D:-3,C:-2,Q:-3,E:-2,G:-2,H:-3,I:4,L:2,K:-3,M:2,F:0,P:-1,S:-1,T:0,W:-4,Y:-3,V:10,B:-2,Z:-2,X:0,"-":0},B:{A:0,R:0,N:2,D:3,C:-2,Q:0,E:2,G:0,H:0,I:-2,L:-3,K:0,M:-2,F:-4,P:-1,S:0,T:0,W:-4,Y:-1,V:-2,B:10,Z:1,X:0,"-":0},Z:{A:-1,R:1,N:0,D:2,C:-3,Q:3,E:3,G:0,H:1,I:-3,L:-3,K:1,M:-2,F:-4,P:-1,S:-1,T:-1,W:-4,Y:-2,V:-2,B:1,Z:10,X:0,"-":0},X:{A:0,R:0,N:0,D:0,C:0,Q:0,E:0,G:0,H:0,I:0,L:0,K:0,M:0,F:0,P:0,S:0,T:0,W:0,Y:0,V:0,B:0,Z:0,X:1,"-":0},"-":{A:0,R:0,N:0,D:0,C:0,Q:0,E:0,G:0,H:0,I:0,L:0,K:0,M:0,F:0,P:0,S:0,T:0,W:0,Y:0,V:0,B:0,Z:0,X:0,"-":1}},Vc=Object.values(Gc).map(e=>Object.values(e)),Kc=Math.min(...Vc.flat()),Hl=Math.max(...Vc.flat());function $c(e,r){return e==="-"||r==="-"?0:(Gc[e][r]-Kc)/(Hl-Kc)}function Bl(e,r){const t=Array.from(e),n=Array.from(r),o=[];for(let s=0;s<t.length;s++)t[s]==="-"||n[s]==="-"||o.push(s);const i=o.length;let a=0;for(const s of o)a+=$c(t[s],n[s]);return 1-a/i}function Yc(e,r){let t=0;for(const n of r)t+=Bl(e,n);return t/(r.length-1)}function Gl(e){const r=e[0].length,t=Array.from({length:r},()=>0);let n=0;for(let i=0;i<e.length;i++){const a=Yc(e[i],e);for(let s=i+1;s<e.length;s++){const l=Yc(e[s],e);for(let c=0;c<r;c++)t[c]+=a*l*$c(e[i][c],e[s][c]);n+=a*l}}return t.map(i=>i/n)}const Xc=e=>e.reduce((r,t)=>r+t,0)/e.length,Vl=(...e)=>{const r=Math.max(...e.map(t=>t.length));return Array.from(Array(r)).map((t,n)=>e.map(o=>o[n]))};function Kl(e){const r=[],t=[];let n=0;return Array.from(e).forEach((o,i)=>{o==="-"?t.push(-1):(r.push(i),t.push(n),++n)}),{alignedSequence:e,toReference:r,fromReference:t}}function Qc(e,r){let n=Gl(e);return n.every(o=>Number.isNaN(o))&&(n=Vl(...e.map(o=>Array.from(o))).map(o=>new Set(o).values().map(i=>o.filter(a=>a===i).length).toArray().toSorted((i,a)=>a-i)[0]/o.length)),{consensus:void 0,conservationScores:n,alignments:e.map(o=>Kl(o))}}async function $l(e,r){const t=await Ul.align(e,{type:"amino"});return Qc(t)}const Yl=(e,r,t=0,n=!1)=>{const o=new Set,i=new Set,a=new Set;for(const[s,l]of e){if(n&&i.size>0)break;const c=(s==="ntd"?1:s)+t-1;if(c<0||c>=r.length){a.add(s);continue}if(r[c]==="-"){a.add(s);continue}s==="ntd"&&t===0||s!=="ntd"&&(l===void 0||r[c]===l)?o.add(s):i.add(s)}return{success:o.size>0&&i.size===0,mappedPositions:o,mismatchedPositions:i,unmappedPositions:a}},Xl=e=>{const r=e.keys().map(t=>t==="ntd"?1:t).toArray();return[Math.min(...r),Math.max(...r)]},Ql=(e,r)=>{const t=[],[n,o]=Xl(e);for(let i=(o-1)*-1;i<=r-n;i+=1)t.push(i);return t},Zl=(e,r)=>{let t=new Map;for(const n of Ql(r,e.length)){const{success:o,mappedPositions:i}=Yl(r,e,n,!0);o&&t.set(n,i)}return t.entries().map(([n,o])=>({offset:n,mappedPositions:o})).toArray().toSorted((n,o)=>o.mappedPositions.size-n.mappedPositions.size)};async function zl(e,r,t){const{alignments:n,conservationScores:o}=t?Qc(t):await $l([e,r.replaceAll("-","X")]),i=n[0].toReference,a=n[1].fromReference;return{alignedSequences:n.map(({alignedSequence:s})=>s),alignmentOffsets:i.map(s=>a[s]),scores:o}}const Jl=({linkPositionToAminoAcid:e,peptides:r})=>new Map([...Object.entries(e??{}).map(([t,n])=>[t==="ntd"?"ntd":Number.parseInt(t),n]),...(r??[]).flatMap(({position:t,sequence:n})=>Array.from(n).map((o,i)=>[t+i,o]))]);function Zc(e,r,t){if(e===0)return 0;const n=t!==void 0,o=n?Math.min(t/.2,t):1,i=e/r,a=Math.min(i/.2,1),s=Math.min(r/10,5),l=Math.min(e/s,1);return n?i*.3+o*.4+a*.15+l*.15:i*.5+a*.25+l*.25}async function rv(e,{sequence:r,...t},n){if(r){const{alignmentOffsets:o,scores:i,alignedSequences:a}=await zl(r,e.sequence,void 0),s=new Map(Array.from(Array(r.length)).map((c,u)=>[u+1,o[u]!==-1?e.startPosition+o[u]:void 0]));s.set("ntd",o[0]===0?e.startPosition:void 0);const l=s.entries().filter(([c,u])=>u!==void 0&&(c==="ntd"?s.get("ntd")!==void 0:r[c]===e.sequence[u-e.startPosition+1])).toArray().length;return{proteinPosToChainPos:s,alignedSequences:{chain:a[1],protein:a[0]},alignmentScore:Xc(i),hits:l,relativeHits:l/r.length,confidence:Zc(l,r.length,Xc(i))}}else{const o=Jl(t),i=Zl(e.sequence,o);if(i.length===0)return;const{mappedPositions:a,offset:s}=i[0],l=new Map(o.keys().map(u=>[u,a.has(u)?u==="ntd"?e.startPosition:e.startPosition+s+u-1:void 0])),c=a.size;return{proteinPosToChainPos:l,hits:c,relativeHits:c/o.size,confidence:Zc(c,o.size)}}}async function ev(e,r){const t=[];for(const n of r){const o=await rv(e,n);o&&t.push({...o,proteinId:n.id})}return t.toSorted((n,o)=>o.confidence-n.confidence)}var we={exports:{}},tv={},nv=Object.freeze({__proto__:null,default:tv}),fe=ef(nv);/**
 * workerpool.js
 * https://github.com/josdejong/workerpool
 *
 * Offload tasks to a pool of workers on node.js and in the browser.
 *
 * @version 9.3.3
 * @date    2025-06-27
 *
 * @license
 * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */var ov=we.exports,zc;function iv(){return zc||(zc=1,function(e,r){(function(t,n){n(r)})(ov,function(t){var n={},o={exports:{}};(function(P){var x=function(L){return typeof L<"u"&&L.versions!=null&&L.versions.node!=null&&L+""=="[object process]"};P.exports.isNode=x,P.exports.platform=typeof process<"u"&&x(process)?"node":"browser";var q=P.exports.platform==="node"&&fe;P.exports.isMainThread=P.exports.platform==="node"?(!q||q.isMainThread)&&!process.connected:typeof Window<"u",P.exports.cpus=P.exports.platform==="browser"?self.navigator.hardwareConcurrency:fe.cpus().length})(o);var i=o.exports,a={},s;function l(){if(s)return a;s=1;function P(L,R){var b=this;if(!(this instanceof P))throw new SyntaxError("Constructor must be called with the new operator");if(typeof L!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var G=[],U=[];this.resolved=!1,this.rejected=!1,this.pending=!0,this[Symbol.toStringTag]="Promise";var Z=function(S,H){G.push(S),U.push(H)};this.then=function(j,S){return new P(function(H,Q){var ir=j?x(j,H,Q):H,Mr=S?x(S,H,Q):Q;Z(ir,Mr)},b)};var Or=function(S){return b.resolved=!0,b.rejected=!1,b.pending=!1,G.forEach(function(H){H(S)}),Z=function(Q,ir){Q(S)},Or=D=function(){},b},D=function(S){return b.resolved=!1,b.rejected=!0,b.pending=!1,U.forEach(function(H){H(S)}),Z=function(Q,ir){ir(S)},Or=D=function(){},b};this.cancel=function(){return R?R.cancel():D(new q),b},this.timeout=function(j){if(R)R.timeout(j);else{var S=setTimeout(function(){D(new X("Promise timed out after "+j+" ms"))},j);b.always(function(){clearTimeout(S)})}return b},L(function(j){Or(j)},function(j){D(j)})}function x(L,R,b){return function(G){try{var U=L(G);U&&typeof U.then=="function"&&typeof U.catch=="function"?U.then(R,b):R(U)}catch(Z){b(Z)}}}P.prototype.catch=function(L){return this.then(null,L)},P.prototype.always=function(L){return this.then(L,L)},P.prototype.finally=function(L){var R=this,b=function(){return new P(function(U){return U()}).then(L).then(function(){return R})};return this.then(b,b)},P.all=function(L){return new P(function(R,b){var G=L.length,U=[];G?L.forEach(function(Z,Or){Z.then(function(D){U[Or]=D,G--,G==0&&R(U)},function(D){G=0,b(D)})}):R(U)})},P.defer=function(){var L={};return L.promise=new P(function(R,b){L.resolve=R,L.reject=b}),L};function q(L){this.message=L||"promise cancelled",this.stack=new Error().stack}q.prototype=new Error,q.prototype.constructor=Error,q.prototype.name="CancellationError",P.CancellationError=q;function X(L){this.message=L||"timeout exceeded",this.stack=new Error().stack}return X.prototype=new Error,X.prototype.constructor=Error,X.prototype.name="TimeoutError",P.TimeoutError=X,a.Promise=P,a}function c(P,x){(x==null||x>P.length)&&(x=P.length);for(var q=0,X=Array(x);q<x;q++)X[q]=P[q];return X}function u(P,x){var q=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!q){if(Array.isArray(P)||(q=m(P))||x){q&&(P=q);var X=0,L=function(){};return{s:L,n:function(){return X>=P.length?{done:!0}:{done:!1,value:P[X++]}},e:function(U){throw U},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,b=!0,G=!1;return{s:function(){q=q.call(P)},n:function(){var U=q.next();return b=U.done,U},e:function(U){G=!0,R=U},f:function(){try{b||q.return==null||q.return()}finally{if(G)throw R}}}}function f(P,x,q){return(x=p(x))in P?Object.defineProperty(P,x,{value:q,enumerable:!0,configurable:!0,writable:!0}):P[x]=q,P}function h(P,x){var q=Object.keys(P);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(P);x&&(X=X.filter(function(L){return Object.getOwnPropertyDescriptor(P,L).enumerable})),q.push.apply(q,X)}return q}function v(P){for(var x=1;x<arguments.length;x++){var q=arguments[x]!=null?arguments[x]:{};x%2?h(Object(q),!0).forEach(function(X){f(P,X,q[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(q)):h(Object(q)).forEach(function(X){Object.defineProperty(P,X,Object.getOwnPropertyDescriptor(q,X))})}return P}function y(P,x){if(typeof P!="object"||!P)return P;var q=P[Symbol.toPrimitive];if(q!==void 0){var X=q.call(P,x);if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(P)}function p(P){var x=y(P,"string");return typeof x=="symbol"?x:x+""}function g(P){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},g(P)}function m(P,x){if(P){if(typeof P=="string")return c(P,x);var q={}.toString.call(P).slice(8,-1);return q==="Object"&&P.constructor&&(q=P.constructor.name),q==="Map"||q==="Set"?Array.from(P):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?c(P,x):void 0}}var d={exports:{}},T={},w;function C(){return w||(w=1,T.validateOptions=function(x,q,X){if(x){var L=x?Object.keys(x):[],R=L.find(function(G){return!q.includes(G)});if(R)throw new Error('Object "'+X+'" contains an unknown option "'+R+'"');var b=q.find(function(G){return Object.prototype[G]&&!L.includes(G)});if(b)throw new Error('Object "'+X+'" contains an inherited option "'+b+'" which is not defined in the object itself but in its prototype. Only plain objects are allowed. Please remove the option from the prototype or override it with a value "undefined".');return x}},T.workerOptsNames=["credentials","name","type"],T.forkOptsNames=["cwd","detached","env","execPath","execArgv","gid","serialization","signal","killSignal","silent","stdio","uid","windowsVerbatimArguments","timeout"],T.workerThreadOptsNames=["argv","env","eval","execArgv","stdin","stdout","stderr","workerData","trackUnmanagedFds","transferList","resourceLimits","name"]),T}var A,E;function O(){return E||(E=1,A=`!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).worker=n()}(this,(function(){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={};var r=function(e,n){this.message=e,this.transfer=n},o={};function i(e,n){var t=this;if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");var r=[],o=[];this.resolved=!1,this.rejected=!1,this.pending=!0,this[Symbol.toStringTag]="Promise";var a=function(e,n){r.push(e),o.push(n)};this.then=function(e,n){return new i((function(t,r){var o=e?u(e,t,r):t,i=n?u(n,t,r):r;a(o,i)}),t)};var f=function(e){return t.resolved=!0,t.rejected=!1,t.pending=!1,r.forEach((function(n){n(e)})),a=function(n,t){n(e)},f=d=function(){},t},d=function(e){return t.resolved=!1,t.rejected=!0,t.pending=!1,o.forEach((function(n){n(e)})),a=function(n,t){t(e)},f=d=function(){},t};this.cancel=function(){return n?n.cancel():d(new s),t},this.timeout=function(e){if(n)n.timeout(e);else{var r=setTimeout((function(){d(new c("Promise timed out after "+e+" ms"))}),e);t.always((function(){clearTimeout(r)}))}return t},e((function(e){f(e)}),(function(e){d(e)}))}function u(e,n,t){return function(r){try{var o=e(r);o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then(n,t):n(o)}catch(e){t(e)}}}function s(e){this.message=e||"promise cancelled",this.stack=(new Error).stack}function c(e){this.message=e||"timeout exceeded",this.stack=(new Error).stack}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.always=function(e){return this.then(e,e)},i.prototype.finally=function(e){var n=this,t=function(){return new i((function(e){return e()})).then(e).then((function(){return n}))};return this.then(t,t)},i.all=function(e){return new i((function(n,t){var r=e.length,o=[];r?e.forEach((function(e,i){e.then((function(e){o[i]=e,0==--r&&n(o)}),(function(e){r=0,t(e)}))})):n(o)}))},i.defer=function(){var e={};return e.promise=new i((function(n,t){e.resolve=n,e.reject=t})),e},s.prototype=new Error,s.prototype.constructor=Error,s.prototype.name="CancellationError",i.CancellationError=s,c.prototype=new Error,c.prototype.constructor=Error,c.prototype.name="TimeoutError",i.TimeoutError=c,o.Promise=i,function(n){var t=r,i=o.Promise,u="__workerpool-cleanup__",s={exit:function(){}},c={addAbortListener:function(e){s.abortListeners.push(e)},emit:s.emit};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)s.on=function(e,n){addEventListener(e,(function(e){n(e.data)}))},s.send=function(e,n){n?postMessage(e,n):postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");var a;try{a=require("worker_threads")}catch(n){if("object"!==e(n)||null===n||"MODULE_NOT_FOUND"!==n.code)throw n}if(a&&null!==a.parentPort){var f=a.parentPort;s.send=f.postMessage.bind(f),s.on=f.on.bind(f),s.exit=process.exit.bind(process)}else s.on=process.on.bind(process),s.send=function(e){process.send(e)},s.on("disconnect",(function(){process.exit(1)})),s.exit=process.exit.bind(process)}function d(e){return Object.getOwnPropertyNames(e).reduce((function(n,t){return Object.defineProperty(n,t,{value:e[t],enumerable:!0})}),{})}function l(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}s.methods={},s.methods.run=function(e,n){var t=new Function("return ("+e+").apply(this, arguments);");return t.worker=c,t.apply(t,n)},s.methods.methods=function(){return Object.keys(s.methods)},s.terminationHandler=void 0,s.abortListenerTimeout=1e3,s.abortListeners=[],s.terminateAndExit=function(e){var n=function(){s.exit(e)};if(!s.terminationHandler)return n();var t=s.terminationHandler(e);return l(t)?(t.then(n,n),t):(n(),new i((function(e,n){n(new Error("Worker terminating"))})))},s.cleanup=function(e){if(!s.abortListeners.length)return s.send({id:e,method:u,error:d(new Error("Worker terminating"))}),new i((function(e){e()}));var n,t=s.abortListeners.map((function(e){return e()})),r=new i((function(e,t){n=setTimeout((function(){t(new Error("Timeout occured waiting for abort handler, killing worker"))}),s.abortListenerTimeout)})),o=i.all(t).then((function(){clearTimeout(n),s.abortListeners.length||(s.abortListeners=[])}),(function(){clearTimeout(n),s.exit()}));return new i((function(e,n){o.then(e,n),r.then(e,n)})).then((function(){s.send({id:e,method:u,error:null})}),(function(n){s.send({id:e,method:u,error:n?d(n):null})}))};var p=null;s.on("message",(function(e){if("__workerpool-terminate__"===e)return s.terminateAndExit(0);if(e.method===u)return s.cleanup(e.id);try{var n=s.methods[e.method];if(!n)throw new Error('Unknown method "'+e.method+'"');p=e.id;var r=n.apply(n,e.params);l(r)?r.then((function(n){n instanceof t?s.send({id:e.id,result:n.message,error:null},n.transfer):s.send({id:e.id,result:n,error:null}),p=null})).catch((function(n){s.send({id:e.id,result:null,error:d(n)}),p=null})):(r instanceof t?s.send({id:e.id,result:r.message,error:null},r.transfer):s.send({id:e.id,result:r,error:null}),p=null)}catch(n){s.send({id:e.id,result:null,error:d(n)})}})),s.register=function(e,n){if(e)for(var t in e)e.hasOwnProperty(t)&&(s.methods[t]=e[t],s.methods[t].worker=c);n&&(s.terminationHandler=n.onTerminate,s.abortListenerTimeout=n.abortListenerTimeout||1e3),s.send("ready")},s.emit=function(e){if(p){if(e instanceof t)return void s.send({id:p,isEvent:!0,payload:e.message},e.transfer);s.send({id:p,isEvent:!0,payload:e})}},n.add=s.register,n.emit=s.emit}(t),n(t)}));
//# sourceMappingURL=worker.min.js.map
`),A}var _;function I(){if(_)return d.exports;_=1;var P=l(),x=P.Promise,q=i,X=C(),L=X.validateOptions,R=X.forkOptsNames,b=X.workerThreadOptsNames,G=X.workerOptsNames,U="__workerpool-terminate__",Z="__workerpool-cleanup__";function Or(){var $=j();if(!$)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return $}function D(){if(typeof Worker!="function"&&((typeof Worker>"u"?"undefined":g(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function j(){try{return fe}catch($){if(g($)==="object"&&$!==null&&$.code==="MODULE_NOT_FOUND")return null;throw $}}function S(){if(q.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var $=new Blob([O()],{type:"text/javascript"});return window.URL.createObjectURL($)}else return __dirname+"/worker.js"}function H($,rr){if(rr.workerType==="web")return D(),Q($,rr.workerOpts,Worker);if(rr.workerType==="thread")return k=Or(),ir($,k,rr);if(rr.workerType==="process"||!rr.workerType)return Mr($,Ur(rr),fe);if(q.platform==="browser")return D(),Q($,rr.workerOpts,Worker);var k=j();return k?ir($,k,rr):Mr($,Ur(rr),fe)}function Q($,rr,k){L(rr,G,"workerOpts");var K=new k($,rr);return K.isBrowserWorker=!0,K.on=function(nr,sr){this.addEventListener(nr,function(fr){sr(fr.data)})},K.send=function(nr,sr){this.postMessage(nr,sr)},K}function ir($,rr,k){var K,nr;L(k?.workerThreadOpts,b,"workerThreadOpts");var sr=new rr.Worker($,v({stdout:(K=k?.emitStdStreams)!==null&&K!==void 0?K:!1,stderr:(nr=k?.emitStdStreams)!==null&&nr!==void 0?nr:!1},k?.workerThreadOpts));return sr.isWorkerThread=!0,sr.send=function(fr,er){this.postMessage(fr,er)},sr.kill=function(){return this.terminate(),!0},sr.disconnect=function(){this.terminate()},k!=null&&k.emitStdStreams&&(sr.stdout.on("data",function(fr){return sr.emit("stdout",fr)}),sr.stderr.on("data",function(fr){return sr.emit("stderr",fr)})),sr}function Mr($,rr,k){L(rr.forkOpts,R,"forkOpts");var K=k.fork($,rr.forkArgs,rr.forkOpts),nr=K.send;return K.send=function(sr){return nr.call(K,sr)},rr.emitStdStreams&&(K.stdout.on("data",function(sr){return K.emit("stdout",sr)}),K.stderr.on("data",function(sr){return K.emit("stderr",sr)})),K.isChildProcess=!0,K}function Ur($){$=$||{};var rr=process.execArgv.join(" "),k=rr.indexOf("--inspect")!==-1,K=rr.indexOf("--debug-brk")!==-1,nr=[];return k&&(nr.push("--inspect="+$.debugPort),K&&nr.push("--debug-brk")),process.execArgv.forEach(function(sr){sr.indexOf("--max-old-space-size")>-1&&nr.push(sr)}),Object.assign({},$,{forkArgs:$.forkArgs,forkOpts:Object.assign({},$.forkOpts,{execArgv:($.forkOpts&&$.forkOpts.execArgv||[]).concat(nr),stdio:$.emitStdStreams?"pipe":void 0})})}function Kr($){for(var rr=new Error(""),k=Object.keys($),K=0;K<k.length;K++)rr[k[K]]=$[k[K]];return rr}function Dr($,rr){Object.values($.processing).forEach(function(k){var K;return k==null||(K=k.options)===null||K===void 0?void 0:K.on(rr)}),Object.values($.tracking).forEach(function(k){var K;return k==null||(K=k.options)===null||K===void 0?void 0:K.on(rr)})}function $r($,rr){var k=this,K=rr||{};this.script=$||S(),this.worker=H(this.script,K),this.debugPort=K.debugPort,this.forkOpts=K.forkOpts,this.forkArgs=K.forkArgs,this.workerOpts=K.workerOpts,this.workerThreadOpts=K.workerThreadOpts,this.workerTerminateTimeout=K.workerTerminateTimeout,$||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("stdout",function(er){Dr(k,{stdout:er.toString()})}),this.worker.on("stderr",function(er){Dr(k,{stderr:er.toString()})}),this.worker.on("message",function(er){if(!k.terminated)if(typeof er=="string"&&er==="ready")k.worker.ready=!0,sr();else{var qr=er.id,pr=k.processing[qr];if(pr!==void 0)er.isEvent?pr.options&&typeof pr.options.on=="function"&&pr.options.on(er.payload):(delete k.processing[qr],k.terminating===!0&&k.terminate(),er.error?pr.resolver.reject(Kr(er.error)):pr.resolver.resolve(er.result));else{var pr=k.tracking[qr];pr!==void 0&&er.isEvent&&pr.options&&typeof pr.options.on=="function"&&pr.options.on(er.payload)}if(er.method===Z){var Hr=k.tracking[er.id];Hr!==void 0&&(er.error?(clearTimeout(Hr.timeoutId),Hr.resolver.reject(Kr(er.error))):(k.tracking&&clearTimeout(Hr.timeoutId),Hr.resolver.reject(new Jc(Hr.error)))),delete k.tracking[qr]}}});function nr(er){k.terminated=!0;for(var qr in k.processing)k.processing[qr]!==void 0&&k.processing[qr].resolver.reject(er);k.processing=Object.create(null)}function sr(){var er=u(k.requestQueue.splice(0)),qr;try{for(er.s();!(qr=er.n()).done;){var pr=qr.value;k.worker.send(pr.message,pr.transfer)}}catch(Hr){er.e(Hr)}finally{er.f()}}var fr=this.worker;this.worker.on("error",nr),this.worker.on("exit",function(er,qr){var pr=`Workerpool Worker terminated Unexpectedly
`;pr+="    exitCode: `"+er+"`\n",pr+="    signalCode: `"+qr+"`\n",pr+="    workerpool.script: `"+k.script+"`\n",pr+="    spawnArgs: `"+fr.spawnargs+"`\n",pr+="    spawnfile: `"+fr.spawnfile+"`\n",pr+="    stdout: `"+fr.stdout+"`\n",pr+="    stderr: `"+fr.stderr+"`\n",nr(new Error(pr))}),this.processing=Object.create(null),this.tracking=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}$r.prototype.methods=function(){return this.exec("methods")},$r.prototype.exec=function($,rr,k,K){k||(k=x.defer());var nr=++this.lastId;this.processing[nr]={id:nr,resolver:k,options:K};var sr={message:{id:nr,method:$,params:rr},transfer:K&&K.transfer};this.terminated?k.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(sr.message,sr.transfer):this.requestQueue.push(sr);var fr=this;return k.promise.catch(function(er){if(er instanceof x.CancellationError||er instanceof x.TimeoutError)return fr.tracking[nr]={id:nr,resolver:x.defer(),options:K,error:er},delete fr.processing[nr],fr.tracking[nr].resolver.promise=fr.tracking[nr].resolver.promise.catch(function(qr){if(delete fr.tracking[nr],qr instanceof Jc)throw qr.error;var pr=fr.terminateAndNotify(!0).then(function(){throw qr},function(Hr){throw Hr});return pr}),fr.worker.send({id:nr,method:Z}),fr.tracking[nr].timeoutId=setTimeout(function(){fr.tracking[nr].resolver.reject(er)},fr.workerTerminateTimeout),fr.tracking[nr].resolver.promise;throw er})},$r.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},$r.prototype.terminate=function($,rr){var k=this;if($){for(var K in this.processing)this.processing[K]!==void 0&&this.processing[K].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}for(var nr=0,sr=Object.values(k.tracking);nr<sr.length;nr++){var fr=sr[nr];clearTimeout(fr.timeoutId),fr.resolver.reject(new Error("Worker Terminating"))}if(k.tracking=Object.create(null),typeof rr=="function"&&(this.terminationHandler=rr),this.busy())this.terminating=!0;else{var er=function(Hr){if(k.terminated=!0,k.cleaning=!1,k.worker!=null&&k.worker.removeAllListeners&&k.worker.removeAllListeners("message"),k.worker=null,k.terminating=!1,k.terminationHandler)k.terminationHandler(Hr,k);else if(Hr)throw Hr};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){er(new Error("worker already killed!"));return}var qr=setTimeout(function(){k.worker&&k.worker.kill()},this.workerTerminateTimeout);this.worker.once("exit",function(){clearTimeout(qr),k.worker&&(k.worker.killed=!0),er()}),this.worker.ready?this.worker.send(U):this.requestQueue.push({message:U}),this.cleaning=!0;return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");er()}},$r.prototype.terminateAndNotify=function($,rr){var k=x.defer();return rr&&k.promise.timeout(rr),this.terminate($,function(K,nr){K?k.reject(K):k.resolve(nr)}),k.promise};function Jc($){this.error=$,this.stack=new Error().stack}return d.exports=$r,d.exports._tryRequireWorkerThreads=j,d.exports._setupProcessWorker=Mr,d.exports._setupBrowserWorker=Q,d.exports._setupWorkerThreadWorker=ir,d.exports.ensureWorkerThreads=Or,d.exports}var F,B;function W(){if(B)return F;B=1;var P=65535;F=x;function x(){this.ports=Object.create(null),this.length=0}return x.prototype.nextAvailableStartingAt=function(q){for(;this.ports[q]===!0;)q++;if(q>=P)throw new Error("WorkerPool debug port limit reached: "+q+">= "+P);return this.ports[q]=!0,this.length++,q},x.prototype.releasePort=function(q){delete this.ports[q],this.length--},F}var N,M;function Y(){if(M)return N;M=1;var P=l(),x=P.Promise,q=I(),X=i,L=W(),R=new L;function b(D,j){typeof D=="string"?this.script=D||null:(this.script=null,j=D),this.workers=[],this.tasks=[],j=j||{},this.forkArgs=Object.freeze(j.forkArgs||[]),this.forkOpts=Object.freeze(j.forkOpts||{}),this.workerOpts=Object.freeze(j.workerOpts||{}),this.workerThreadOpts=Object.freeze(j.workerThreadOpts||{}),this.debugPortStart=j.debugPortStart||43210,this.nodeWorker=j.nodeWorker,this.workerType=j.workerType||j.nodeWorker||"auto",this.maxQueueSize=j.maxQueueSize||1/0,this.workerTerminateTimeout=j.workerTerminateTimeout||1e3,this.onCreateWorker=j.onCreateWorker||function(){return null},this.onTerminateWorker=j.onTerminateWorker||function(){return null},this.emitStdStreams=j.emitStdStreams||!1,j&&"maxWorkers"in j?(G(j.maxWorkers),this.maxWorkers=j.maxWorkers):this.maxWorkers=Math.max((X.cpus||4)-1,1),j&&"minWorkers"in j&&(j.minWorkers==="max"?this.minWorkers=this.maxWorkers:(U(j.minWorkers),this.minWorkers=j.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&q.ensureWorkerThreads()}b.prototype.exec=function(D,j,S){if(j&&!Array.isArray(j))throw new TypeError('Array expected as argument "params"');if(typeof D=="string"){var H=x.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var Q=this.tasks,ir={method:D,params:j,resolver:H,timeout:null,options:S};Q.push(ir);var Mr=H.promise.timeout;return H.promise.timeout=function(Kr){return Q.indexOf(ir)!==-1?(ir.timeout=Kr,H.promise):Mr.call(H.promise,Kr)},this._next(),H.promise}else{if(typeof D=="function")return this.exec("run",[String(D),j],S);throw new TypeError('Function or string expected as argument "method"')}},b.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var D=this;return this.exec("methods").then(function(j){var S={};return j.forEach(function(H){S[H]=function(){return D.exec(H,Array.prototype.slice.call(arguments))}}),S})},b.prototype._next=function(){if(this.tasks.length>0){var D=this._getWorker();if(D){var j=this,S=this.tasks.shift();if(S.resolver.promise.pending){var H=D.exec(S.method,S.params,S.resolver,S.options).then(j._boundNext).catch(function(){if(D.terminated)return j._removeWorker(D)}).then(function(){j._next()});typeof S.timeout=="number"&&H.timeout(S.timeout)}else j._next()}}},b.prototype._getWorker=function(){for(var D=this.workers,j=0;j<D.length;j++){var S=D[j];if(S.busy()===!1)return S}return D.length<this.maxWorkers?(S=this._createWorkerHandler(),D.push(S),S):null},b.prototype._removeWorker=function(D){var j=this;return R.releasePort(D.debugPort),this._removeWorkerFromList(D),this._ensureMinWorkers(),new x(function(S,H){D.terminate(!1,function(Q){j.onTerminateWorker({forkArgs:D.forkArgs,forkOpts:D.forkOpts,workerThreadOpts:D.workerThreadOpts,script:D.script}),Q?H(Q):S(D)})})},b.prototype._removeWorkerFromList=function(D){var j=this.workers.indexOf(D);j!==-1&&this.workers.splice(j,1)},b.prototype.terminate=function(D,j){var S=this;this.tasks.forEach(function(Ur){Ur.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var H=function(Kr){R.releasePort(Kr.debugPort),this._removeWorkerFromList(Kr)},Q=H.bind(this),ir=[],Mr=this.workers.slice();return Mr.forEach(function(Ur){var Kr=Ur.terminateAndNotify(D,j).then(Q).always(function(){S.onTerminateWorker({forkArgs:Ur.forkArgs,forkOpts:Ur.forkOpts,workerThreadOpts:Ur.workerThreadOpts,script:Ur.script})});ir.push(Kr)}),x.all(ir)},b.prototype.stats=function(){var D=this.workers.length,j=this.workers.filter(function(S){return S.busy()}).length;return{totalWorkers:D,busyWorkers:j,idleWorkers:D-j,pendingTasks:this.tasks.length,activeTasks:j}},b.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var D=this.workers.length;D<this.minWorkers;D++)this.workers.push(this._createWorkerHandler())},b.prototype._createWorkerHandler=function(){var D=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new q(D.script||this.script,{forkArgs:D.forkArgs||this.forkArgs,forkOpts:D.forkOpts||this.forkOpts,workerOpts:D.workerOpts||this.workerOpts,workerThreadOpts:D.workerThreadOpts||this.workerThreadOpts,debugPort:R.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout,emitStdStreams:this.emitStdStreams})};function G(D){if(!Z(D)||!Or(D)||D<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function U(D){if(!Z(D)||!Or(D)||D<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function Z(D){return typeof D=="number"}function Or(D){return Math.round(D)==D}return N=b,N}var V={},or,ar;function ur(){if(ar)return or;ar=1;function P(x,q){this.message=x,this.transfer=q}return or=P,or}var J;function hr(){return J||(J=1,function(P){var x=ur(),q=l().Promise,X="__workerpool-terminate__",L="__workerpool-cleanup__",R=1e3,b={exit:function(){}},G={addAbortListener:function(H){b.abortListeners.push(H)},emit:b.emit};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")b.on=function(S,H){addEventListener(S,function(Q){H(Q.data)})},b.send=function(S,H){H?postMessage(S,H):postMessage(S)};else if(typeof process<"u"){var U;try{U=fe}catch(S){if(!(g(S)==="object"&&S!==null&&S.code==="MODULE_NOT_FOUND"))throw S}if(U&&U.parentPort!==null){var Z=U.parentPort;b.send=Z.postMessage.bind(Z),b.on=Z.on.bind(Z),b.exit=process.exit.bind(process)}else b.on=process.on.bind(process),b.send=function(S){process.send(S)},b.on("disconnect",function(){process.exit(1)}),b.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function Or(S){return Object.getOwnPropertyNames(S).reduce(function(H,Q){return Object.defineProperty(H,Q,{value:S[Q],enumerable:!0})},{})}function D(S){return S&&typeof S.then=="function"&&typeof S.catch=="function"}b.methods={},b.methods.run=function(H,Q){var ir=new Function("return ("+H+").apply(this, arguments);");return ir.worker=G,ir.apply(ir,Q)},b.methods.methods=function(){return Object.keys(b.methods)},b.terminationHandler=void 0,b.abortListenerTimeout=R,b.abortListeners=[],b.terminateAndExit=function(S){var H=function(){b.exit(S)};if(!b.terminationHandler)return H();var Q=b.terminationHandler(S);return D(Q)?(Q.then(H,H),Q):(H(),new q(function(ir,Mr){Mr(new Error("Worker terminating"))}))},b.cleanup=function(S){if(!b.abortListeners.length)return b.send({id:S,method:L,error:Or(new Error("Worker terminating"))}),new q(function(Dr){Dr()});var H=function(){b.exit()},Q=function(){b.abortListeners.length||(b.abortListeners=[])},ir=b.abortListeners.map(function(Dr){return Dr()}),Mr,Ur=new q(function(Dr,$r){Mr=setTimeout(function(){$r(new Error("Timeout occured waiting for abort handler, killing worker"))},b.abortListenerTimeout)}),Kr=q.all(ir).then(function(){clearTimeout(Mr),Q()},function(){clearTimeout(Mr),H()});return new q(function(Dr,$r){Kr.then(Dr,$r),Ur.then(Dr,$r)}).then(function(){b.send({id:S,method:L,error:null})},function(Dr){b.send({id:S,method:L,error:Dr?Or(Dr):null})})};var j=null;b.on("message",function(S){if(S===X)return b.terminateAndExit(0);if(S.method===L)return b.cleanup(S.id);try{var H=b.methods[S.method];if(H){j=S.id;var Q=H.apply(H,S.params);D(Q)?Q.then(function(ir){ir instanceof x?b.send({id:S.id,result:ir.message,error:null},ir.transfer):b.send({id:S.id,result:ir,error:null}),j=null}).catch(function(ir){b.send({id:S.id,result:null,error:Or(ir)}),j=null}):(Q instanceof x?b.send({id:S.id,result:Q.message,error:null},Q.transfer):b.send({id:S.id,result:Q,error:null}),j=null)}else throw new Error('Unknown method "'+S.method+'"')}catch(ir){b.send({id:S.id,result:null,error:Or(ir)})}}),b.register=function(S,H){if(S)for(var Q in S)S.hasOwnProperty(Q)&&(b.methods[Q]=S[Q],b.methods[Q].worker=G);H&&(b.terminationHandler=H.onTerminate,b.abortListenerTimeout=H.abortListenerTimeout||R),b.send("ready")},b.emit=function(S){if(j){if(S instanceof x){b.send({id:j,isEvent:!0,payload:S.message},S.transfer);return}b.send({id:j,isEvent:!0,payload:S})}},P.add=b.register,P.emit=b.emit}(V)),V}var Pr=i.platform,tr=i.isMainThread,Sr=i.cpus;function yr(P,x){var q=Y();return new q(P,x)}var Cr=n.pool=yr;function wr(P,x){var q=hr();q.add(P,x)}var Er=n.worker=wr;function Ar(P){var x=hr();x.emit(P)}var Fr=n.workerEmit=Ar,cr=l(),mr=cr.Promise,Ir=n.Promise=mr,dr=n.Transfer=ur(),z=n.platform=Pr,kr=n.isMainThread=tr,ee=n.cpus=Sr;t.Promise=Ir,t.Transfer=dr,t.cpus=ee,t.default=n,t.isMainThread=kr,t.platform=z,t.pool=Cr,t.worker=Er,t.workerEmit=Fr,Object.defineProperty(t,"__esModule",{value:!0})})}(we,we.exports)),we.exports}var av=iv(),No=rf(av);({withFunction(e){return No.worker({default:e}),null},withEmit(){return{withFunction(e){const r=t=>No.workerEmit(t);return No.worker({default:e(r)}),null}}}}).withEmit().withFunction(e=>async(r,t)=>(e("mapping"),await ev(r,t)))})();
